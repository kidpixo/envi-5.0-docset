<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Classification|Classification Tools|Supervised Methods" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Spectral Angle Mapper
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#FindFeatures/Classification/ClassificationTools/SpectralAngleMapper.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../ClassificationMain.htm">
    Classification
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="ClassificationTools.htm">
    Classification Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="AdaptiveCoherenceEstimator.htm">
    Supervised Methods
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Spectral Angle Mapper
   </span>
  </div>
  <h1>
   Spectral Angle Mapper
   <a name="kanchor296">
   </a>
  </h1>
  <p>
   Spectral Angle Mapper (SAM) is a physically-based spectral classification that uses an
   <i>
    n
   </i>
   -D angle to match pixels to reference spectra. The algorithm determines the spectral similarity between two spectra by calculating the angle between the spectra and treating them as vectors in a space with dimensionality equal to the number of bands. This technique, when used on calibrated reflectance data, is relatively insensitive to illumination and albedo effects. Endmember spectra used by SAM can come from ASCII files or spectral libraries, or you can extract them directly from an image (as ROI average spectra). SAM compares the angle between the endmember spectrum vector and each pixel vector in
   <i>
    n
   </i>
   -D space. Smaller angles represent closer matches to the reference spectrum. Pixels further away than the specified maximum angle threshold in radians are not classified.
  </p>
  <p>
   SAM classification assumes reflectance data. However, if you use radiance data, the error is generally not significant because the origin is still near zero.
  </p>
  <p>
   <b>
    Reference
   </b>
  </p>
  <p>
   Kruse, F. A., A. B. Lefkoff, J. B. Boardman, K. B. Heidebrecht, A. T. Shapiro, P. J. Barloon, and A. F. H. Goetz, 1993, “The Spectral Image Processing System (SIPS) - Interactive Visualization and Analysis of Imaging spectrometer Data.”
   <i>
    Remote Sensing of the Environment
   </i>
   , v. 44, p. 145 - 163.
  </p>
  <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Tip:
     </b>
    </span>
   </span>
   You can use the
   <a href="../../../SpectralTools/SpectralHourglassWizard.htm">
    Spectral Hourglass Wizard
   </a>
   to guide you through the spectral hourglass processing flow, which includes SAM classification, to find and map image spectral endmembers from hyperspectral or multispectral data.
  </p>
  <ol>
   <li value="1">
    Select one of the following:
    <ul>
     <li value="1">
      From the Toolbox, select
      <b>
       Classification &gt; Supervised Classification &gt; Spectral Angle Mapper Classification
      </b>
      .
     </li>
     <li value="2">
      From the Endmember Collection dialog menu bar, select
      <b>
       Algorithm &gt; Spectral Angle Mapper
      </b>
      .
     </li>
    </ul>
   </li>
   <p class="indent">
    The Classification Input File dialog appears.
   </p>
   <li value="2">
    Select an input file and perform optional spatial and spectral
    <a href="../../../NoTOCTopics/Subsetting.htm">
     subsetting
    </a>
    , and/or masking, then click
    <b>
     OK
    </b>
    . The Endmember Collection:SAM dialog appears.
   </li>
   <li value="3">
    From the Endmember Collection:SAM dialog menu bar, select
    <b>
     Import
    </b>
    &gt;
    <i>
     spectra_source
    </i>
    and collect endmember spectra from a variety of sources. For details, see
    <a href="ImportingSpectra.htm">
     Import Spectra
    </a>
    and
    <a href="CollectingEndmemberSpectra.htm#Managing">
     Manage Endmember Spectra
    </a>
    .
   </li>
   <li value="4">
    In the Endmember Collection:SAM dialog, click
    <b>
     Apply
    </b>
    . The Spectral Angle Mapper Parameters dialog appears.
   </li>
   <li value="5">
    Select one of the following thresholding options from the
    <b>
     Set Maximum Angle (radians)
    </b>
    area:
    <ul>
     <li value="1">
      <b>
       None
      </b>
      : Use no threshold.
     </li>
     <li value="2">
      <b>
       Single Value
      </b>
      : Use a single threshold for all classes. Enter a value, in radians, in the
      <b>
       Maximum Angle (radians)
      </b>
      field. This is the maximum acceptable angle between the endmember spectrum vector and the pixel vector (in # of bands dimensional space). The default is 0.1 radians.
      <span class="DocumentTitleProductName">
       ENVI
      </span>
      does not classify pixels with an angle larger than this value.
     </li>
     <li value="3">
      <b>
       Multiple Values
      </b>
      : Enter a different threshold for each class. Use this option as follows:
     </li>
    </ul>
    <ol style="list-style-type: upper-alpha;">
     <li value="1">
      In the list of classes, select the class or classes to which you want to assign different threshold values and click
      <b>
       Multiple Values
      </b>
      . The Assign Maximum Angle (radians) dialog appears.
     </li>
     <li value="2">
      Select a class, then enter a threshold value in the field at the bottom of the dialog. Repeat for each class. Click
      <b>
       OK
      </b>
      when you are finished.
     </li>
    </ol>
   </li>
   <li value="6">
    Select classification output to
    <b>
     File
    </b>
    or
    <b>
     Memory
    </b>
    .
   </li>
   <li value="7">
    Use the
    <b>
     Output Rule Images?
    </b>
    toggle button to select whether or not to create rule images. Use rule images to create intermediate classification image results before final assignment of classes. You can later use rule images in the
    <a href="ClassifyingFromRuleImages.htm">
     Rule Classifier
    </a>
    to create a new classification image without having to recalculate the entire classification.
   </li>
   <li value="8">
    If you selected
    <b>
     Yes
    </b>
    to output rule images, select output to
    <b>
     File
    </b>
    or
    <b>
     Memory
    </b>
    .
   </li>
   <li value="9">
    Click
    <b>
     Preview
    </b>
    to
    <a href="Parallelepiped.htm#previewing">
     see a 256&#160;x&#160;256 spatial subset
    </a>
    from the center of the output classification image. Change the parameters as needed and click
    <b>
     Preview
    </b>
    again to update the display.
   </li>
   <li value="10">
    Click
    <b>
     OK
    </b>
    .
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    adds the resulting output to the Layer Manager. The output from SAM is a classified image and a set of rule images (one per endmember). The pixel values of the rule images represent the spectral angle in radians from the reference spectrum for each class. Lower spectral angles represent better matches to the endmember spectra. Areas that satisfied the selected radian threshold criteria are carried over as classified areas into the classified image.
   </li>
  </ol>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>