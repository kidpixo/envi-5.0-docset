<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Classification|Classification Tools|Post Classification" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Calculate Confusion Matrices
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/TableStyles/NoLines.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#FindFeatures/Classification/ClassificationTools/CalculatingConfusionMatrices.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../ClassificationMain.htm">
    Classification
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="ClassificationTools.htm">
    Classification Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="ClassifyingFromRuleImages.htm">
    Post Classification
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Calculate Confusion Matrices
   </span>
  </div>
  <h1>
   Calculate Confusion Matrices
   <a name="kanchor302">
   </a>
   <a name="kanchor303">
   </a>
  </h1>
  <p>
   Use a
   <i>
    confusion matrix
   </i>
   to show the accuracy of a classification result by comparing a classification result with ground truth information.
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   can calculate a confusion matrix (contingency matrix) using either a ground truth image or using ground truth ROIs. In each case, an overall accuracy, producer and user accuracies, kappa coefficient, confusion matrix, and errors of commission and omission are reported.
  </p>
  <p>
   See the following sections:
  </p>
  <ul>
   <li value="1">
    <a href="#Using">
     Use a Ground Truth Image
    </a>
   </li>
   <li value="2">
    <a href="#Using2">
     Use Ground Truth Regions of Interest
    </a>
   </li>
   <li value="3">
    <a href="#confusion_matrix_example">
     Confusion Matrix Example
    </a>
   </li>
   <li value="4">
    <a href="#Overall">
     Overall Accuracy
    </a>
   </li>
   <li value="5">
    <a href="#Kappa">
     Kappa Coefficient
    </a>
   </li>
   <li value="6">
    <a href="#Confusio">
     Confusion Matrix (Pixels)
    </a>
   </li>
   <li value="7">
    <a href="#Confusio2">
     Confusion Matrix (Percent)
    </a>
   </li>
   <li value="8">
    <a href="#Commissi">
     Commision
    </a>
   </li>
   <li value="9">
    <a href="#Omission">
     Omission
    </a>
   </li>
   <li value="10">
    <a href="#Producer">
     Producer Accuracy
    </a>
   </li>
   <li value="11">
    <a href="#User">
     User Accuracy
    </a>
   </li>
  </ul>
  <h2>
   <a name="Using">
   </a>
   Use a Ground Truth Image
  </h2>
  <p>
   When using a ground truth image, you can also calculate error mask images for each class showing which pixels were incorrectly classified.
  </p>
  <p>
   <b>
    Reference
   </b>
   <![CDATA[ ]]>
  </p>
  <p>
   J. R. Jensen, 1986,
   <i>
    Introductory Digital Image Processing
   </i>
   , Prentice-Hall, Englewood Cliffs, New Jersey, p. 379.
  </p>
  <ol>
   <li value="1">
    From the Toolbox, select
    <b>
     Classification &gt; Post Classification &gt; Confusion Matrix Using Ground Truth Image
    </b>
    . The Classification Input File dialog appears.
   </li>
   <li value="2">
    Select an input file and perform optional spatial and spectral
    <a href="../../../NoTOCTopics/Subsetting.htm">
     subsetting
    </a>
    , then click
    <b>
     OK
    </b>
    . The Input File dialog appears. The Ground Truth Input File dialog appears.
   </li>
   <li value="3">
    Select the ground truth image and perform any spatial subsetting, then click
    <b>
     OK
    </b>
    . The Match Classes Parameters dialog appears.
   </li>
   <li value="4">
    <p>
     Match the ground truth classes with the classification result classes by selecting the matching names in the two lists and clicking
     <b>
      Add Combination
     </b>
     . The class combinations are shown in a list at the bottom of the dialog. If the ground truth and classification classes have the same names, they are automatically matched.
    </p>
    <p>
     To remove a class match from the list, select the combination name. The two class names reappear in the lists at the top of the dialog.
    </p>
   </li>
   <li value="5">
    Click
    <b>
     OK
    </b>
    . The Confusion Matrix Parameters dialog appears.
   </li>
   <li value="6">
    Next to the
    <b>
     Output Confusion Matrix in
    </b>
    label, select the
    <b>
     Pixels
    </b>
    and/or the
    <b>
     Percent
    </b>
    check boxes. If you select both check boxes, they will be reported in the same window.
   </li>
   <li value="7">
    Next to the
    <b>
     Report Accuracy Assessment
    </b>
    label, select the
    <b>
     Yes
    </b>
    or
    <b>
     No
    </b>
    toggle.
   </li>
   <li value="8">
    <p>
     Next to
     <b>
      Output Error Images
     </b>
     label, click the toggle button to select
     <b>
      Yes
     </b>
     or
     <b>
      No
     </b>
     .
    </p>
    <p>
     The output error images are mask images, one for each class, where all correctly classified pixels have a value of 0 and incorrectly classified pixels have a value of 1. The last error image band shows all the incorrectly classified pixels for all the classes combined.
    </p>
   </li>
   <li value="9">
    Select output to
    <b>
     File
    </b>
    or
    <b>
     Memory
    </b>
    .
   </li>
   <li value="10">
    <p>
     Click
     <b>
      OK
     </b>
     .
    </p>
   </li>
  </ol>
  <p>
   The report shows the overall accuracy, kappa coefficient, confusion matrix, errors of commission (percentage of extra pixels in class), errors of omission (percentage of pixels left out of class), producer accuracy, and user accuracy for each class. Producer accuracy is the probability that a pixel in the classification image is put into class x given the ground truth class is x. User Accuracy is the probability that the ground truth class is x given a pixel is put into class x in the classification image. The
   <a href="#confusion_matrix_example">
    confusion matrix output
   </a>
   shows how each of these accuracy assessments is calculated.
   <![CDATA[ ]]>
  </p>
  <h2>
   <a name="Using2">
   </a>
   Use Ground Truth Regions of Interest
  </h2>
  <p>
   To display a confusion matrix report using ROIs for ground truth:
  </p>
  <ol>
   <li value="1">
    From the Toolbox, select
    <b>
     Classification &gt; Post Classification &gt; Confusion Matrix Using Ground Truth ROIs
    </b>
    . The Classification Input File dialog appears.
   </li>
   <li value="2">
    <p>
     Select an input file and perform optional spatial and spectral
     <a href="../../../NoTOCTopics/Subsetting.htm">
      subsetting
     </a>
     , then click
     <b>
      OK
     </b>
     . The Match Classes Parameters dialog appears.
    </p>
    <p>
     The ground truth ROIs must be opened and associated with an image of the same size as the classification output image. The ROIs are automatically loaded into the Match Classes Parameters dialog.
    </p>
   </li>
   <li value="3">
    <p>
     Match the ground truth ROIs with the classification result classes by selecting the matching names in the two lists and clicking
     <b>
      Add Combination
     </b>
     . The class combinations are shown in a list at the bottom of the dialog. If the ground truth and classification classes have the same names, they are automatically matched.
    </p>
    <p>
     To remove a class match from the list, select the combination name. The two class names reappear in the lists at the top of the dialog.
    </p>
   </li>
   <li value="4">
    Click
    <b>
     OK
    </b>
    . The Confusion Matrix Parameters dialog appears.
   </li>
   <li value="5">
    Next to the
    <b>
     Output Confusion Matrix in
    </b>
    label, select the
    <b>
     Pixels
    </b>
    and/or the
    <b>
     Percent
    </b>
    check boxes.
   </li>
   <li value="6">
    Next to the
    <b>
     Report Accuracy Assessment
    </b>
    label, click the
    <b>
     Yes
    </b>
    or
    <b>
     No
    </b>
    toggle.
   </li>
   <li value="7">
    Click
    <b>
     OK
    </b>
    .
   </li>
  </ol>
  <p>
   The report shows the overall accuracy, kappa coefficient, confusion matrix, errors of commission (percentage of extra pixels in class), errors of omission (percentage of pixels left out of class), producer accuracy, and user accuracy for each class. Producer accuracy is the probability that a pixel in the classification image is put into class x given the ground truth class is x. User Accuracy is the probability that the ground truth class is x given a pixel is put into class x in the classification image. The confusion matrix output shows how the accuracy assessments are calculated.
  </p>
  <h2>
   <a name="confusion_matrix_example">
   </a>
   Confusion Matrix Example
   <a name="kanchor304">
   </a>
  </h2>
  <p>
   The following example explains the items calculated for the confusion matrix, including the overall accuracy, kappa coefficient, confusion (contingency) matrix, errors of commission, errors of omission, producer accuracy, and user accuracy.
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   can calculate a confusion matrix using either a ground truth image or using ground truth ROIs and both produce an output similar to the following example.
  </p>
  <p>
   <code>
    Confusion Matrix: {M6} (640x400x1)
   </code>
  </p>
  <p>
   <code>
    Overall Accuracy = (131003/256000)  51.1730%
   </code>
  </p>
  <p style="margin-top: 5pt;margin-bottom: 5pt;font-family: Courier;font-weight: normal;font-style: normal;letter-spacing: 0em;color: #000000;text-decoration: none;">
   <code>
    Kappa Coefficient = 0.2648
   </code>
  </p>
  <table style="caption-side: top;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/NoLines.css');" class="TableStyle_NoLines" cellspacing="0">
   <col />
   <col />
   <col />
   <col />
   <col />
   <col />
   <thead>
    <tr>
     <td colspan="6" class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Ground Truth (Pixels)
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Class
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Unclassified
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Grass
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Forest
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Swamp
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColEnd">
      <p>
       <code>
        Total
       </code>
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Unclassified
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        43689
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        26949
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        40
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        18001
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        88679
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Grass
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        32835
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        64516
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        1741
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        3329
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        102421
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Forest
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        8202
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        7277
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        4096
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        654
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        20229
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Swamp
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        15227
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        10742
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        0
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        18702
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        44671
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        Total
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        99953
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        109484
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        5877
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        40686
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColEnd">
      <p>
       <code>
        256000
       </code>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <table style="caption-side: top;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/NoLines.css');" class="TableStyle_NoLines" cellspacing="0">
   <col />
   <col />
   <col />
   <col />
   <col />
   <col />
   <thead>
    <tr>
     <td colspan="6" class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Ground Truth (Percent)
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Class
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Unclassified
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Grass
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Forest
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        Swamp
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColEnd">
      <p>
       <code>
        Total
       </code>
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Unclassified
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        43.71
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        24.61
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        0.68
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        44.24
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        34.64
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Grass
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        32.85
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        58.93
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        29.62
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        8.18
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        40.01
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Forest
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        8.21
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        6.65
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        69.70
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        1.61
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        7.90
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Swamp
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        15.23
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        9.81
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        0.00
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        45.97
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        17.45
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        Total
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        100.00
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        100.00
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        100.00
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        100.00
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColEnd">
      <p>
       <code>
        100.00
       </code>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <table style="caption-side: top;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/NoLines.css');" class="TableStyle_NoLines" cellspacing="0">
   <col />
   <col />
   <col />
   <col />
   <col />
   <thead>
    <tr>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Class
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Commission
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Omission
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Commission
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColEnd">
      <p>
       Omission
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       (Percent)
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       (Percent)
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       (Pixels)
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColEnd">
      <p>
       (Pixels)
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Unclassified
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        50.73
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        56.29
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        44990/88679
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        56264/99953
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Grass
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        37.01
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        41.07
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        37905/102421
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        44968/109484
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Forest
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        79.75
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        30.30
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        16133/20229
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        1781/5877
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        Swamp
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        58.13
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        54.03
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        25969/44671
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColEnd">
      <p>
       <code>
        21984/40686
       </code>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <table style="caption-side: top;mc-table-style: url('../../../Resources/TableStyles/NoLines.css');margin-left: 0;margin-right: auto;" class="TableStyle_NoLines" cellspacing="0">
   <col />
   <col />
   <col />
   <col />
   <col />
   <thead>
    <tr>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Class
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Prod. Acc.
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       User Acc.
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       Prod. Acc.
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColEnd">
      <p>
       User Acc.
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        (Percent)
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        (Percent)
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColSep">
      <p>
       <code>
        (Pixels)
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Head_0_0_ColEnd">
      <p>
       <code>
        (Pixels)
       </code>
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Unclassified
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        43.71
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        49.27
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        43689/99953
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        43689/88679
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Grass
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        58.93
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        62.99
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        64516/109484
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        64516/102421
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        Forest
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        69.70
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        20.25
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <code>
        4096/5877
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <code>
        4096/20229
       </code>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        Swamp
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        45.97
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        41.87
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <code>
        18702/40686
       </code>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColEnd">
      <p>
       <code>
        18702/44671
       </code>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <a name="Overall">
   </a>
   Overall Accuracy
  </h2>
  <p>
   The overall accuracy is calculated by summing the number of pixels classified correctly and dividing by the total number of pixels. The ground truth image or ground truth ROIs define the true class of the pixels. The pixels classified correctly are found along the diagonal of the confusion matrix table which lists the number of pixels that were classified into the correct ground truth class. The total number of pixels is the sum of all the pixels in all the ground truth classes.
  </p>
  <h2>
   <a name="Kappa">
   </a>
   Kappa Coefficient
  </h2>
  <p>
   The kappa coefficient (κ) is another measure of the accuracy of the classification. It is calculated by multiplying the total number of pixels in all the ground truth classes (
   <i>
    N
   </i>
   ) by the sum of the confusion matrix diagonals (x
   <sub>
    kk
   </sub>
   ), subtracting the sum of the ground truth pixels in a class times the sum of the classified pixels in that class summed over all classes (
   <img src="../../../Resources/Images/Classification/kappa_summed_38x17.jpg" style="width: 38;height: 17;" class="VertCenter" />
   ), and dividing by the total number of pixels squared minus the sum of the ground truth pixels in that class times the sum of the classified pixels in that class summed over all classes.
  </p>
  <p>
   <img src="../../../Resources/Images/Classification/kappa.jpg" />
  </p>
  <h2>
   <a name="Confusio">
   </a>
   Confusion Matrix (Pixels)
  </h2>
  <p>
   The confusion matrix is calculated by comparing the location and class of each ground truth pixel with the corresponding location and class in the classification image. Each column of the confusion matrix represents a ground truth class and the values in the column correspond to the classification image’s labeling of the ground truth pixels. For example, look at the ground truth column for the Forest class in the Ground Truth (Pixels) table above. The ground truth shows 5,877 pixels in this class. The classification was able to classify 4,096 of these pixels properly but 40 pixels were Unclassified and 1,741 were classified as Grass.
  </p>
  <h2>
   <a name="Confusio2">
   </a>
   Confusion Matrix (Percent)
  </h2>
  <p>
   The Ground Truth (Percent) table shows the class distribution in percent for each ground truth class. The values are calculated by dividing the pixel counts in each ground truth column by the total number of pixels in a given ground truth class. For example, in the Forest class the percent pixels classified correctly is 4,096/5,877=0.697 or 69.7%.
  </p>
  <h2>
   <a name="Commissi">
   </a>
   Commission
  </h2>
  <p>
   Errors of commission represent pixels that belong to another class that are labeled as belonging to the class of interest. The errors of commission are shown in the rows of the confusion matrix. In the confusion matrix example, the Grass class has a total of 102,421 pixels where 64,516 pixels are classified correctly and 37,905 other pixels are classified incorrectly as Grass (37,905 is the sum of all the other classes in the Grass row of the confusion matrix). The ratio of the number of pixels classified incorrectly by the total number of pixels in the ground truth class forms an error of commission. For the Grass class the error of commission is 37,905/102,421 which equals 37%.
  </p>
  <h2>
   <a name="Omission">
   </a>
   Omission
  </h2>
  <p>
   Errors of omission represent pixels that belong to the ground truth class but the classification technique has failed to classify them into the proper class. The errors of omission are shown in the columns of the confusion matrix. In the confusion matrix example, the Grass class has a total of 109,484 ground truth pixels where 64,516 pixels are classified correctly and 44,968 Grass ground truth pixels are classified incorrectly (44,968 is the sum of all the other classes in the Grass column of the confusion matrix). The ratio of the number of pixels classified incorrectly by the total number of pixels in the ground truth class forms an error of omission. For the Grass class the error of omission is 44,968/109,484 which equals 41.1%.
  </p>
  <h2>
   <a name="Producer">
   </a>
   Producer Accuracy
  </h2>
  <p>
   The producer accuracy is a measure indicating the probability that the classifier has labeled an image pixel into Class A given that the ground truth is Class A. In the confusion matrix example, the Grass class has a total of 109,484 ground truth pixels where 64,516 pixels are classified correctly. The producer accuracy is the ratio
   <span class="_Override" style="letter-spacing: -0.03em;">
    64,516/109,484 or 58.9%.
   </span>
  </p>
  <h2>
   <a name="User">
   </a>
   User Accuracy
  </h2>
  <p>
   User accuracy is a measure indicating the probability that a pixel is Class A given that the classifier has labeled the pixel into Class A. In the confusion matrix example, the classifier has labeled 102,421 pixels as the Grass class and a total of 64,516 pixels are classified correctly. The user accuracy is the ratio 64,516/102,421 or 63.0%.
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>