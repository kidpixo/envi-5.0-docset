<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Classification|Classification Tools|Other Tools" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Collect Endmember Spectra
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#FindFeatures/Classification/ClassificationTools/CollectingEndmemberSpectra.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../ClassificationMain.htm">
    Classification
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="ClassificationTools.htm">
    Classification Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="ClassImageFromROIs.htm">
    Other Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Collect Endmember Spectra
   </span>
  </div>
  <h1>
   Collect Endmember Spectra
   <a name="kanchor312">
   </a>
  </h1>
  <p>
   Use
   <b>
    Endmember Collection
   </b>
   to select endmember spectra from many sources for use in classification and advanced spectral analysis techniques. See
   <a href="ImportingSpectra.htm">
    Import Spectra
   </a>
   for instructions on importing from various sources.
  </p>
  <p>
   See the following sections to continue:
  </p>
  <ul>
   <li value="1">
    <a href="#Endmembe">
     Endmember Collection Dialog Components
    </a>
   </li>
   <li value="2">
    <a href="#Managing">
     Manage Endmember Spectra
    </a>
   </li>
   <li value="3">
    <a href="#Plotting">
     Plot Spectra
    </a>
   </li>
   <li value="4">
    <a href="#Deleting">
     Delete Spectra
    </a>
   </li>
   <li value="5">
    <a href="#Endmembe2">
     Endmember Options
    </a>
   </li>
   <li value="6">
    <a href="#Selectin">
     Select Processing Methods
    </a>
   </li>
  </ul>
  <h2>
   <a name="Endmembe">
   </a>
   Endmember Collection Dialog Components
  </h2>
  <p>
   The following input file information is provided in the text at the top of the Endmember Collection dialog:
  </p>
  <ul>
   <li value="1">
    <b>
     File
    </b>
    : The name of the input file and its selected spatial subset range. If the image is not spatially subset, the phrase
    <code>
     Full Scene
    </code>
    displays.
   </li>
   <li value="2">
    <b>
     Mask
    </b>
    : The name of the mask associated with the input file.
   </li>
   <li value="3">
    <b>
     Wavelength
    </b>
    : The wavelength range of the image data. The units of these wavelengths are derived from the header file of the input file. If the units cannot be derived from the header file, the phrase
    <code>
     &lt;unknown units
    </code>
    &gt; displays.
   </li>
   <li value="4">
    <b>
     Number and range of the bands in the spectral subset
    </b>
    : The number of bands spectrally subsetted from the input file and the range of the subset. If the input file is not spectrally subsetted, the total number of bands in the input file and the entire range displays.
   </li>
  </ul>
  <p>
   The Endmember Collection dialog also contains the Endmember Spectra table. This table enables you to view and edit properties associated with any of the spectra listed in the table. The table contains the following columns:
  </p>
  <ul>
   <li value="1">
    <b>
     Row Number
    </b>
    : Contains the row number of each spectrum. You can select one or more spectra. Use the
    <b>
     Select All
    </b>
    button to select all of the spectra in the table. Click
    <b>
     Plot
    </b>
    or
    <b>
     Delete
    </b>
    to plot or delete the selected spectra.
   </li>
   <li value="2">
    <b>
     Spectrum Name
    </b>
    : Contains the name of each spectrum. You can edit the name of a spectrum by selecting its cell in this column. You can also specify the spectrum names for all the spectra from an ASCII file by right-clicking the
    <b>
     Spectrum Name
    </b>
    column title and selecting the
    <b>
     Import names from ASCII
    </b>
    . This menu also contains a
    <b>
     Reset names
    </b>
    option to reset all the spectra to their original names. All of the options in this menu are also available in the
    <b>
     Options
    </b>
    menu.
   </li>
   <li value="3">
    <b>
     Color
    </b>
    : Contains the color of each spectrum. You can use any of the following methods to change the color of a spectrum.
   </li>
   <li class="Indent" value="4">
    Right-click in the cell to display the color menu.
   </li>
   <li class="Indent" value="5">
    Left-click in the cell to enter a valid
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    graphics color name. If a valid color is not provided,
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    sets the color value to
    <code>
     &lt;none&gt;
    </code>
    by default.
   </li>
   <li class="Indent" value="6">
    Left-click in the cell to enter an RGB triplet (such as 255, 0, 0 for red). If you provide an RGB triplet,
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    uses the closest valid
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    graphics color.
   </li>
  </ul>
  <p class="indent">
   You can also set the default
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   colors for all the spectra by right-clicking in the
   <b>
    Color
   </b>
   column title and selecting
   <b>
    Assign default colors to all
   </b>
   . You can set all the spectra colors to
   <code>
    &lt;none&gt;
   </code>
   with
   <b>
    Assign default colors to undefined
   </b>
   , and you can select
   <b>
    Reset Colors
   </b>
   to reset all the spectra to their original colors. All of the right-click menu options are also available in the Endmember Collection dialog
   <b>
    Options
   </b>
   menu.
  </p>
  <ul>
   <li value="1">
    <p>
     <b>
      Source
     </b>
     : Displays the source of each spectrum. The values in this column cannot be edited. The following list shows the possible sources for the spectra in the table.
    </p>
    <p class="indent">
     <b>
      ASD file
     </b>
     : Spectrum imported from ASD formatted file (which is output from the Analytical Spectral Devices spectrometers).
    </p>
    <p class="indent">
     <b>
      Spec Lib
     </b>
     : Spectrum imported from
     <span class="DocumentTitleProductName">
      ENVI
     </span>
     spectral library (
     <code>
      .sli
     </code>
     ) file.
    </p>
    <p class="indent">
     <b>
      ROI mean
     </b>
     : Mean spectrum from either an ROI or a vector.
    </p>
    <p class="indent">
     <b>
      Stats file
     </b>
     : Spectrum imported from
     <span class="DocumentTitleProductName">
      ENVI
     </span>
     statistics (
     <code>
      .sta
     </code>
     ) file.
    </p>
    <p class="indent">
     <b>
      Plot
     </b>
     : Spectrum imported from a plot window.
    </p>
    <p class="indent">
     <b>
      Unknown
     </b>
     : Spectrum retrieved from any other source.
    </p>
   </li>
   <li value="2">
    <b>
     ASCII file
    </b>
    : Spectrum imported from ASCII column data file.
   </li>
   <li value="3">
    <b>
     Bands
    </b>
    : Displays the number of spectral bands contained in each spectrum. You cannot edit the values in this column.
   </li>
   <li value="4">
    <b>
     Wavelength
    </b>
    : Contains the wavelength range of each spectrum.
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    converts the wavelengths of the spectra to the wavelengths of the image data when you click either
    <b>
     Plot
    </b>
    or
    <b>
     Apply
    </b>
    in the dialog. This conversion does not occur if the wavelength units of the spectra are unknown. You can change the wavelength units by right-clicking in the cell of the
    <b>
     Wavelength
    </b>
    column.
   </li>
  </ul>
  <p class="indent">
   To change an input file with unknown wavelength units to a file containing known wavelength units, select
   <b>
    File &gt; Change input File
   </b>
   option from the Endmember Collection dialog menu bar.
  </p>
  <ul>
   <li value="1">
    <b>
     Status
    </b>
    : Displays the status of each spectrum related to the input file. You cannot edit the values in this column. The following list shows the possible status values for the spectra in the table:
   </li>
   <li value="2">
    <b>
     Match
    </b>
    : The wavelengths of the input file and the spectrum match exactly and no resampling is necessary when you click either
    <b>
     Plot
    </b>
    or
    <b>
     Apply
    </b>
    .
   </li>
   <li value="3">
    <b>
     Resample
    </b>
    : The wavelengths of the input file and the spectrum are different, but
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    is able to resample the spectrum to the wavelength space of the input file when you click either
    <b>
     Plot
    </b>
    or
    <b>
     Apply
    </b>
    .
   </li>
   <li value="4">
    <b>
     Invalid
    </b>
    : The wavelengths of the input file and the spectrum are different, but
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    is not able to resample because the wavelength units of either the spectrum or the input file are unknown. If a spectrum is invalid, it cannot be plotted and is not used when you click
    <b>
     Apply
    </b>
    .
   </li>
  </ul>
  <h2>
   <a name="Managing">
   </a>
   Manage Endmember Spectra
  </h2>
  <p>
   Use the
   <b>
    File
   </b>
   menu in the Endmember Collection dialog to save endmember spectra to an ASCII file, as a spectral library, or as an Endmember Collection file. You can also use the
   <b>
    File
   </b>
   menu to change the input file or exit the dialog.
  </p>
  <ul>
   <li value="1">
    To save spectra to an ASCII&#160;file, select
    <b>
     File &gt; Save Spectra As &gt; ASCII file
    </b>
    .
   </li>
   <li value="2">
    To save spectra to spectral libraries, select
    <b>
     File &gt; Save Spectra As &gt; Spectral Library file
    </b>
    .
   </li>
   <li value="3">
    To save the current state of the Endmember Collection dialog to a text file, select
    <b>
     File &gt; Save Spectra As &gt; Endmember Collection file
    </b>
    . The Endmember Collection file contains all the current information that is provided for each spectrum in the Endmember Spectra table.
   </li>
   <li value="4">
    To change the input file while the selected endmembers, select
    <b>
     File &gt; Change Input File
    </b>
    . You can change the spectral or spatial subset of your input file by selecting
    <b>
     File &gt; Change Input File
    </b>
    again, selecting the same filename, and changing the subset.
   </li>
  </ul>
  <h2>
   <a name="Plotting">
   </a>
   Plot Spectra
  </h2>
  <ul>
   <li value="1">
    To plot a spectrum from the Endmember Spectra table, select the row number column of the spectrum to plot, then click
    <b>
     Plot
    </b>
    .
   </li>
   <li value="2">
    To plot multiple spectra, use the
    <b>
     Shift
    </b>
    or
    <b>
     Ctrl
    </b>
    key as you select the row number columns, then click
    <b>
     Plot
    </b>
    .
   </li>
   <li value="3">
    To plot all the spectra in the table, click
    <b>
     Select All
    </b>
    , then click
    <b>
     Plot
    </b>
    .
   </li>
  </ul>
  <h2>
   <a name="Deleting">
   </a>
   Delete Spectra
  </h2>
  <ul>
   <li value="1">
    To delete a spectrum from the Endmember Spectra table, select the row number column of the spectrum to delete, then click
    <b>
     Delete
    </b>
    .
   </li>
   <li value="2">
    To delete multiple spectra, use the
    <b>
     Shift
    </b>
    or
    <b>
     Ctrl
    </b>
    key as you select the row number columns, then click
    <b>
     Delete
    </b>
    .
   </li>
   <li value="3">
    To delete all the spectra in the table, click
    <b>
     Select All
    </b>
    , then click
    <b>
     Delete
    </b>
    .
   </li>
  </ul>
  <h2>
   <a name="Endmembe2">
   </a>
   Endmember Options
  </h2>
  <p>
   Use the
   <b>
    Options
   </b>
   menu in the Endmember Collection dialog to edit the endmember names, edit the endmember colors, or suppress backgrounds (using BandMax).
  </p>
  <ul>
   <li value="1">
    To edit endmember names, select
    <b>
     Options &gt; Import spectrum names from ASCII
    </b>
    . Select and open the ASCII file that contains the spectrum names. The names of the spectra collected in the dialog are changed to the names from the ASCII file.
   </li>
   <li value="2">
    To reset the spectra to their initial names, select
    <b>
     Options &gt; Reset spectrum names
    </b>
    .
   </li>
   <li value="3">
    To assign default colors to all of the endmember spectra, select
    <b>
     Options &gt; Assign default colors to all
    </b>
    .
   </li>
   <li value="4">
    To assign default colors to all of the undefined spectra colors (indicated by
    <code>
     &lt;none&gt;
    </code>
    ), select
    <b>
     Options &gt; Assign default colors to undefined
    </b>
    .
   </li>
   <li value="5">
    To reset the spectra to their initial colors, select
    <b>
     Options &gt; Reset colors
    </b>
    .
   </li>
  </ul>
  <h3>
   <a name="BandMax">
   </a>
   Suppress Backgrounds with BandMax
  </h3>
  <p>
   You can select an optimal subset of input bands to differentiate one or more related target spectra from the spectra of other similar materials (backgrounds). The BandMax process isolates the bands that best distinguish selected targets from selected backgrounds. This optimal spectral subset generated with BandMax may increase the accuracy of the classification selected in the Endmember Collection dialog and speed processing.
  </p>
  <p>
   You can also access BandMax in the
   <a href="../../../Detection/TargetDetection/SAMTargetFinderWithBandMax.htm">
    SAM Target Finder with BandMax Wizard
   </a>
   .
  </p>
  <ol>
   <li value="1">
    Select at least one spectrum (to represent a target) in the Endmember Spectra table of the Endmember Collection dialog.
   </li>
   <li value="2">
    From the Endmember Collection dialog menu bar, select
    <b>
     Options &gt; BandMax Background Suppression
    </b>
    in the Endmember Collection dialog. The BandMax Background Suppression dialog appears.
   </li>
   <li value="3">
    <p>
     Use the
     <b>
      Select Background
     </b>
     section of the dialog to collect any spectra you want to use as backgrounds. This section contains an embedded version of the Endmember Collection dialog. All the items in this section are the same as the items provided in the Endmember Collection dialog.
    </p>
    <p>
     The BandMax significance values are calculated whenever a spectrum is added or deleted in the
     <b>
      Select Background
     </b>
     section.
    </p>
   </li>
   <li value="4">
    Review the
    <b>
     Significant Bands
    </b>
    list, which shows the bands that BandMax automatically determined were significant
    <b style="font-weight: normal;">
     .
    </b>
   </li>
   <li value="5">
    <p>
     Modify the
     <b>
      Band Significance Threshold
     </b>
     value as needed. The threshold ranges from 0 to 1.
     <span class="DocumentTitleProductName">
      ENVI
     </span>
     uses only bands with a significance value greater than or equal to the significance threshold. Setting the
     <b>
      Band Significance Threshold
     </b>
     to a higher value results in fewer selected bands in the subset.
    </p>
    <p>
     The increase/decrease buttons change the threshold by increments of 0.01. An increase in the
     <b>
      Band Significance Threshold
     </b>
     value decreases the
     <b>
      Number of Significant Bands
     </b>
     value and updates the
     <b>
      Significant Bands
     </b>
     list. If a change of 0.01 is not enough to update the
     <b>
      Number of Significant Bands
     </b>
     , increase the increment until it does.
    </p>
    <p>
     You can also decrease the
     <b>
      Number of Significant Bands
     </b>
     value, which increases the
     <b>
      Band Significance Threshold
     </b>
     value and updates the
     <b>
      Significant Bands
     </b>
     <b style="font-weight: normal;">
      list
     </b>
     .
    </p>
   </li>
   <p>
    The increase/decrease buttons change the number of bands by at least 1. If two or more bands have the same significance value,
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    uses a greater increment to include all of these bands.
   </p>
   <li value="6">
    Click
    <b>
     Save Significant Bands to File
    </b>
    if you want to save the band subset in the
    <b>
     Significant Bands
    </b>
    list to an ASCII file. When you have derived the subset of bands that effectively detects your targets, you may want to use this same band subset to perform a series of classifications on a set of images from the same sensor. You can use the output ASCII file as input when spectrally subsetting a file.
   </li>
   <li value="7">
    Click
    <b>
     OK
    </b>
    . All the significant bands displayed in the
    <b>
     Significant Bands
    </b>
    section form the band subset that is used on the input data when you click
    <b>
     Apply
    </b>
    in the Endmember Collection dialog.
   </li>
  </ol>
  <h2>
   <a name="Selectin">
   </a>
   Select Processing Methods
  </h2>
  <p>
   Use the
   <b>
    Algorithm
   </b>
   menu in the Endmember Collection dialog to select a classification or advanced spectral processing method. The classification methods available are parallelepiped, minimum distance, Mahalanobis distance, maximum likelihood, Spectral Angle Mapper, and binary encoding. The advanced spectral processing methods available are linear spectral unmixing, matched filtering, mixture tuned matched filtering, and spectral feature fitting.
  </p>
  <p>
   When using the Mahalanobis distance or maximum likelihood classifiers, you can only import the endmember spectra from ROIs or statistic files because these classifications use the endmember covariance statistics. You must also have at least two endmembers.
  </p>
  <ol>
   <li value="1">
    <p>
     From the Endmember Collection dialog menu bar, select
     <b>
      Algorithm &gt;
     </b>
     <![CDATA[ ]]>
     <i>
      classification_method
     </i>
     .
    </p>
    <p>
     You can also start the classification methods from the
     <b>
      Classification &gt; Supervised
     </b>
     menu and you can start the advanced spectral processing methods from the
     <b>
      Spectral Tools
     </b>
     menu.
    </p>
   </li>
   <li value="2">
    Click
    <b>
     Apply
    </b>
    . The Algorithm Parameters dialog appears.
   </li>
   <li value="3">
    Enter the selected algorithm’s required parameters.
   </li>
  </ol>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>