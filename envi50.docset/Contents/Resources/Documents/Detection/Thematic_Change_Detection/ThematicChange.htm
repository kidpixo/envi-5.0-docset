<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Detection" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Thematic Change
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../ENVIHelp_CSH.htm#Detection/Thematic_Change_Detection/ThematicChange.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../DetectionTools.htm">
    Detection
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Thematic Change
   </span>
  </div>
  <h1>
   Thematic Change
   <a name="kanchor267">
   </a>
  </h1>
  <p>
   <img src="../../Resources/Images/IconsButtons/Tutorial.gif" alt="Tutorial" />
   <a href="../../Tutorials/Workflows/ThematicChangeTutorial.htm">
    Thematic Change Tutorial
   </a>
  </p>
  <p>
   The Thematic Change workflow takes two classification images of the same scene taken at different times and identifies differences between them. The resulting classification image shows class transitions, for example, from class 1 to class 2. Thematic change detection can be used to analyze land use, land cover change, deforestation, urbanization, agricultural expansion, water variability, and more.
  </p>
  <p>
   See the following for help on a particular step of the workflow:
  </p>
  <ul>
   <li value="1">
    <a href="#TCSelect">
     Select a File for Thematic Change
    </a>
   </li>
   <li value="2">
    <a href="#TCSettings">
     Thematic Change Settings
    </a>
   </li>
   <li value="3">
    <a href="#TCClean">
     Clean Up Thematic Change Results
    </a>
   </li>
   <li value="4">
    <a href="#TCExport">
     Export Thematic Change Results
    </a>
   </li>
  </ul>
  <h2>
   <a name="TCSelect">
   </a>
   Select Files for Thematic Change
   <a name="kanchor268">
   </a>
  </h2>
  <p>
   In the File Selection panel, you choose two classification images to include in thematic change detection. You can apply a spectral subset, and/or a mask to the first image you select.   The supported input types are ENVI, ERDAS IMAGINE, Esri®&#160;feature layer, and geodatabase feature class.
  </p>
  <p>
   File inputs need to have standard map projections or be pixel-based. A
   <a href="../../GeorectifyImagery/BackgroundNonStandardProjections.htm#Affine">
    pseudo projection
   </a>
   does not provide  spatial locations  with the accuracy needed for use in thematic change detection. Inputs with different map information are allowed. When inputs have different map information, reprojection and resampling are handled as follows:
  </p>
  <ul>
   <li value="1">
    If the files use different projections, the first input file establishes the projection that is used throughout the workflow. The overlap  of the two inputs is  the area that is included in the analysis.
   </li>
   <li value="2">
    If the files use different pixel sizes, the input file with the lower resolution is resampled to use the higher resolution of the other input file.
   </li>
  </ul>
  <ol>
   <li value="1">
    <p>
     From the Toolbox, select
     <b>
      Change Detection &gt; Thematic Change Workflow
     </b>
     .
    </p>
    <p>
     If you want to open a geodatabase, click
     <b>
      Browse
     </b>
     in the File Selection panel, then click
     <b>
      Open Remote Dataset
     </b>
     in the Select Time 1 Classification Image File dialog. The Remote Connection Manager dialog appears.
    </p>
    <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
     <span class="autonumber">
      <span>
       <b>
        Note:
       </b>
      </span>
     </span>
     Datasets from WCS servers are allowed as input. Datasets from JPIP&#160;or WMS servers are not allowed as input.
    </p>
    <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
     <span class="autonumber">
      <span>
       <b>
        Note:
       </b>
      </span>
     </span>
     When using Esri® layer files as a data source for workflows, expand the Esri layer and select the data source.
    </p>
   </li>
   <li value="2">
    To perform optional spectral
    <a href="../../NoTOCTopics/Subsetting.htm">
     subsetting
    </a>
    , click
    <b>
     Browse
    </b>
    in the File Selection panel.
   </li>
   <li value="3">
    <p>
     To apply a
     <a href="../../NoTOCTopics/WorkingWithMasks.htm">
      mask
     </a>
     , select the Input Mask tab in the File Selection panel. Masked pixels constitute a separate class in classification output.
    </p>
    <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
     <span class="autonumber">
      <span>
       <b>
        Tip:
       </b>
      </span>
     </span>
     <![CDATA[ ]]>
     Reprojected vectors are not supported when the original input data has RPCs. To apply a mask in this case, either draw the mask on the image in the current Image window view, or use the RPC Orthorectification workflow to reproject the image to standard map projections, then use the orthorectified image and the shapefile as inputs.
    </p>
   </li>
   <li value="4">
    Select the Input Files tab again.
   </li>
   <li value="5">
    <p>
     Enter the path and filename for the
     <b>
      Time 2 Classification Image File
     </b>
     .
    </p>
    <p>
     To navigate to a file, click
     <b>
      Browse
     </b>
     . The Select Time 2 Classification Image File dialog appears. Do one of the following:
    </p>
    <ul>
     <li value="1">
      If the file you want to use is listed in the dialog, select it.
     </li>
     <li value="2">
      Click
      <b>
       Open File
      </b>
      to open a new file. The Open dialog appears.
     </li>
     <li value="3">
      <p>
       Click
       <b>
        Open Remote Dataset
       </b>
       to open a geodatabase or remote dataset. The Remote Connection Manager dialog appears.
      </p>
      <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
       <span class="autonumber">
        <span>
         <b>
          Note:
         </b>
        </span>
       </span>
       Datasets from WCS servers are allowed as input. Datasets from JPIP&#160;or WMS servers are not allowed as input.
      </p>
     </li>
    </ul>
   </li>
   <li value="6">
    If reprojection and/or resampling are needed in either input file, the Advanced tab appears in the File Selection panel. See the end of these steps for a description of the available reprojection methods.
   </li>
   <li value="7">
    Click
    <b>
     Next
    </b>
    . The Thematic Change panel appears and the files open in a new workflow view. If the Time 1 Classification Image File was displayed in an active view before it was selected for the workflow, the image location is retained in the workflow view. Note that the image location is not retained for pixel-based images or those with pseudo or arbitrary projections.
   </li>
  </ol>
  <p>
   <b>
    Reprojection
   </b>
  </p>
  <p>
   Select a
   <b>
    Reprojection Method
   </b>
   from the drop-down list. The choices are as follows:
  </p>
  <ul>
   <li value="1">
    <p>
     <b>
      Polynomial
     </b>
     : A first-order polynomial warp includes an XY interaction term to account for image shear:
    </p>
    <p>
     <i>
      x
     </i>
     =
     <i>
      a
     </i>
     <sub style="font-style: italic;">
      1
     </sub>
     <i>
      + a
     </i>
     <sub style="font-style: italic;">
      2
     </sub>
     <i>
      X + a
     </i>
     <sub style="font-style: italic;">
      3
     </sub>
     <i>
      Y + a
     </i>
     <sub style="font-style: italic;">
      4
     </sub>
     <i>
      XY
     </i>
    </p>
    <p>
     <i>
      y
     </i>
     =
     <i>
      b
     </i>
     <sub style="font-style: italic;">
      1
     </sub>
     <i>
      + b
     </i>
     <sub style="font-style: italic;">
      2
     </sub>
     <i>
      X + b
     </i>
     <sub style="font-style: italic;">
      3
     </sub>
     <i>
      Y + b
     </i>
     <sub style="font-style: italic;">
      4
     </sub>
     <i>
      XY
     </i>
    </p>
   </li>
   <li value="2">
    <b>
     Triangulation
    </b>
    : Delaunary triangulation warping fits triangles to the irregularly gridded data points and interpolates values to the output grid. This is the default option.
   </li>
   <li value="3">
    <b>
     Rigorous
    </b>
    : Performs a full projection transformation (including datum shift, if needed) for every pixel in the output image.
   </li>
  </ul>
  <h2>
   <a name="TCSettings">
   </a>
   Thematic Change Settings
   <a name="kanchor269">
   </a>
  </h2>
  <p>
   In the Thematic Change panel, you set parameters to use for change detection.
  </p>
  <ol>
   <li value="1">
    <p>
     If the two input classification images have the same number of classes that use the same class name, the
     <b>
      Only Include Areas That Have Changed
     </b>
     check box is available, and is enabled by default. When the check box is enabled,
     <span class="DocumentTitleProductName">
      ENVI
     </span>
     groups those classes into a class named
     <code>
      no change
     </code>
     if there was no difference detected during processing. Otherwise, the output is a new classification image that includes all class transition information.
    </p>
    <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
     <span class="autonumber">
      <span>
       <b>
        Note:
       </b>
      </span>
     </span>
     If the output will be used in ArcMap™ or ArcCatalog™ and contains 30 or more classes, ArcMap or ArcCatalog uses a stretch renderer by default. You can modify the ArcMap or ArcCatalog  default by adding a new registry key. For steps, contact Technical Support.
    </p>
   </li>
   <li value="2">
    To preview how the parameter settings look before processing, enable the
    <b>
     Preview
    </b>
    check box. A Preview Portal appears. The Preview Portal works with full or higher resolution views. You can change settings and preview the results again, as needed.
   </li>
   <li value="3">
    <p>
     Click
     <b>
      Next
     </b>
     . Thematic change processing begins.
    </p>
    <p>
     When processing is complete, the Cleanup panel appears.
    </p>
   </li>
  </ol>
  <h2>
   <a name="TCClean">
   </a>
   Clean Up Thematic Change Results
   <a name="kanchor270">
   </a>
  </h2>
  <p>
   In the Cleanup panel, you can refine the change detection result and preview what the refinement will look like before you apply the settings. Performing cleanup is an optional step; to skip it click
   <b>
    Skip
   </b>
   and continue to the export step.
  </p>
  <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Tip:
     </b>
    </span>
   </span>
   If you plan to save the vectors created during processing to a file in the final step of the workflow, the Cleanup step is recommended. Performing cleanup significantly reduces the time needed to export vectors.
  </p>
  <ol>
   <li value="1">
    Enable the check boxes for the cleanup methods you want to use. The following are available:
    <ul>
     <li value="1">
      <b>
       Enable Smoothing
      </b>
      removes salt and pepper noise during cleanup.
     </li>
     <li value="2">
      <b>
       Enable Aggregation
      </b>
      removes small regions.
     </li>
    </ul>
   </li>
   <li value="2">
    Enter values for the cleanup methods you enabled:
    <ul>
     <li value="1">
      Specify the
      <b>
       Smooth Kernel Size
      </b>
      using an odd number (e.g., 3 = 3x3 pixels). The square kernel's center pixel will be replaced with the majority class value of the kernel. The default is
      <b>
       3
      </b>
      .
     </li>
     <li value="2">
      Specify the
      <b>
       Aggregate Minimum Size
      </b>
      in pixels. Regions with a size of this value or smaller are aggregated to an adjacent, larger region. The default for thematic change detection is
      <b>
       9
      </b>
      . The default for image change detection is
      <b>
       100
      </b>
      .
     </li>
    </ul>
   </li>
   <li value="3">
    To preview the cleanup result before processing, enable the
    <b>
     Preview
    </b>
    check box. A Preview Portal appears. You can change the cleanup settings and preview the results again, as needed.
   </li>
   <li value="4">
    Click
    <b>
     Next
    </b>
    . The Export panel appears.
   </li>
  </ol>
  <h2>
   <a name="TCExport">
   </a>
   Export Thematic Change Results
   <a name="kanchor271">
   </a>
  </h2>
  <ol>
   <li value="1">
    In the Export Files tab in the Export panel, enable the output options you want. The following are available:
   </li>
   <ul>
    <li value="1">
     <b>
      Export Thematic Change Image
     </b>
     saves the classification result to an ENVI raster.
    </li>
    <li value="2">
     <p>
      <b>
       Export Thematic Change Vectors
      </b>
      saves  the vectors created during classification to a shapefile.  The supported vector output formats are shapefile and geodatabase. The output area units are in square meter.
     </p>
     <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
      <span class="autonumber">
       <span>
        <b>
         Note:
        </b>
       </span>
      </span>
      Depending on the image size, exporting to vectors may be time-consuming.  To reduce the export time, performing the Cleanup step prior to export is recommended.
     </p>
    </li>
   </ul>
   <li value="2">
    In the  Export Statistics tab, enable any other output options you want. The following are available:
   </li>
   <ul>
    <li value="1">
     <b>
      Export Thematic Change Statistics
     </b>
     saves the statistics on thematic change to a text file.  The output area units are in square meter.
    </li>
   </ul>
   <li value="3">
    Click
    <b>
     Finish
    </b>
    to create the output, add the new layers to the Layer Manager, and save the files to the directories you specified. When the export is complete, the workflow view closes. The original data and the export data display in the Image window view.
   </li>
  </ol>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>