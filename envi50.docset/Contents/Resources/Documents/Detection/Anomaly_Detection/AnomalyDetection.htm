<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Detection" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Anomaly Detection
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../ENVIHelp_CSH.htm#Detection/Anomaly_Detection/AnomalyDetection.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../DetectionTools.htm">
    Detection
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Anomaly Detection
   </span>
  </div>
  <h1>
   Anomaly Detection
   <a name="kanchor250">
   </a>
  </h1>
  <p>
   <img src="../../Resources/Images/IconsButtons/Tutorial.gif" />
   <a href="../../Tutorials/Workflows/AnomalyDetectionTutorial.htm" alt="Tutorial">
    Anomaly Detection Tutorial
   </a>
  </p>
  <p>
   The Anomaly Detection workflow uses the Reed-Xiaoli Detector (RXD) algorithm to identify the spectral or color differences between a region to test and its neighboring pixels or the entire dataset. This algorithm extracts targets that are spectrally distinct from the image background. RXD is effective when the anomalous targets are sufficiently small, relative to the background. Results from RXD analysis are unambiguous and have proven very effective in detecting subtle spectral features.
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   implements the standard RXD algorithm:
  </p>
  <p>
   <img src="../../Resources/Images/rxd_equation.gif" alt="RXD equation" />
  </p>
  <p>
   Where
   <i>
    r
   </i>
   is the sample vector, μ is the sample mean, and
   <i>
    K
   </i>
   <span style="vertical-align: sub;font-style: italic;">
    LxL
   </span>
   is the sample covariance matrix.
  </p>
  <p>
   RXD works with multispectral and hyperspectral images. Bad pixels or lines appear as anomalous, but they do not affect the detection of other, valid anomalies. As with any spectral algorithm, exclusion of bad bands increases the accuracy of results. Currently, this algorithm does not differentiate detected anomalies from one another.
  </p>
  <p>
   <b>
    References
   </b>
  </p>
  <p>
   Chang, Chein-I, and Shao-Shan Chiang, 2002. Anomaly detection and classification for hyperspectral imagery.
   <i>
    IEEE Transactions on Geoscience and Remote Sensing
   </i>
   , Vol. 40, No. 6, pp. 1314-1325.
  </p>
  <p>
   Reed I. S., and X. Yu, Adaptive multiple-band CFAR detection of an optical pattern with unknown spectral distribution.
   <i>
    IEEE Trans. Acoustics, Speech and Signal Proc
   </i>
   . 38, pp. 1760-1770, October 1990.
  </p>
  <p>
   See the following for help on a particular step of the workflow:
  </p>
  <ul>
   <li value="1">
    <a href="#ADSelect">
     Select a File for Anomaly Detection
    </a>
   </li>
   <li value="2">
    <a href="#ADSettings">
     Anomaly Detection Settings
    </a>
   </li>
   <li value="3">
    <a href="#ADThresholding">
     Anomaly Thresholding
    </a>
   </li>
   <li value="4">
    <a href="#ADExport">
     Export Anomaly Detection Results
    </a>
   </li>
  </ul>
  <h2>
   <a name="ADSelect">
   </a>
   Select a File for Anomaly Detection
  </h2>
  <ol>
   <li value="1">
    <p>
     From the Toolbox, select
     <![CDATA[ ]]>
     <b>
      Anomaly Detection &gt; Anomaly Detection Workflow
     </b>
     .
    </p>
    <p>
     If you want to open a geodatabase, click
     <b>
      Browse
     </b>
     in the File Selection panel, then click
     <b>
      Open Remote Dataset
     </b>
     in the Anomaly Detection Input File dialog. The Remote Connection Manager dialog appears.
    </p>
    <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
     <span class="autonumber">
      <span>
       <b>
        Note:
       </b>
      </span>
     </span>
     Datasets from WCS servers are allowed as input. Datasets from JPIP&#160;or WMS servers are not allowed as input.
    </p>
    <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
     <span class="autonumber">
      <span>
       <b>
        Note:
       </b>
      </span>
     </span>
     When using Esri® layer files as a data source for workflows, expand the Esri layer and select the data source.
    </p>
   </li>
   <li value="2">
    You can perform optional spatial or spectral
    <a href="../../NoTOCTopics/Subsetting.htm">
     subsetting
    </a>
    from within the Select Input File dialog.
   </li>
   <li value="3">
    <p>
     To apply a
     <a href="../../NoTOCTopics/WorkingWithMasks.htm">
      mask
     </a>
     , select the Input Mask tab in the File Selection panel.
    </p>
   </li>
   <li value="4">
    Click
    <b>
     Next
    </b>
    . The Anomaly Detection panel appears and the file opens in a new workflow view. If the selected file is displayed in an active view before you start the workflow, the display bands and image location are retained, as well as  any brightness, contrast, stretch, and sharpen settings. The image location is not retained for pixel-based images or those with pseudo or arbitrary projections.
   </li>
  </ol>
  <h2>
   <a name="ADSettings">
   </a>
   Anomaly Detection Settings
  </h2>
  <ol>
   <li value="1">
    In the Anomaly Detection panel, select one of the following options from the
    <b>
     Anomaly Detection Method
    </b>
    drop-down list:
   </li>
   <ul>
    <li value="1">
     <b>
      RXD
     </b>
     Standard RXD algorithm. This is the default setting.
    </li>
    <li value="2">
     <b>
      <a name="kanchor251">
      </a>
      UTD
     </b>
     Uniform Target Detector, in which the anomaly is defined using (1 - μ) as the matched signature, rather than (
     <i>
      r
     </i>
     - μ). UTD and RXD work exactly the same, but instead of using a sample vector from the data (as with RXD), UTD uses the unit vector. UTD extracts background signatures as anomalies and provides a good estimate of the image background.
    </li>
    <li value="3">
     <b>
      RXD-UTD
     </b>
     A hybrid of the RXD and UTD methods, in which (
     <i>
      r
     </i>
     - 1) is used as the matched signature. This is a variant of the UTD approach. Subtracting UTD from RXD suppresses the background and enhances the anomalies of interest. The best condition to use RXD-UTD is when the anomalies have an energy level that is comparable to, or less than, that of the background. In this case, using UTD by itself does not detect the anomalies, but using RXD-UTD enhances them.
    </li>
   </ul>
   <li value="2">
    Select the
    <b>
     Mean Calculation Method
    </b>
    to use from the drop-down list. You can specify whether the mean spectrum should be derived from the full dataset (
    <b>
     Global
    </b>
    ) or from a localized kernel around the pixel (
    <b>
     Local
    </b>
    ). The default is
    <b>
     Global
    </b>
    .
   </li>
   <li value="3">
    If you choose
    <b>
     Local
    </b>
    , for the
    <b>
     Mean Calculation Method
    </b>
    ,the
    <b>
     Kernel Size
    </b>
    field is enabled. Specify a kernel size, in pixels, around a given pixel that will be used to create a mean spectrum. The default value is
    <b>
     9
    </b>
    . The allowable range is from 9 to 99, and the value must be an odd number   (e.g., 9 = 9x9 pixels).
   </li>
   <li value="4">
    Enable the
    <b>
     Suppress Vegetation
    </b>
    check box to optionally suppress vegetation anomalies in the RXD results. This option is best used when vegetation is a minor component of the image. It works by calculating a Normalized Difference Vegetation Index (NDVI) for the input image, then re-scaling the RXD results inversely proportional to the NDVI.
   </li>
   <li value="5">
    To preview how the anomaly detection will look before processing, enable the
    <b>
     Preview
    </b>
    check box. A Preview Portal appears. The Preview Portal works with full or higher resolution views. You can change the anomaly detection settings and preview the results again, as needed.
   </li>
   <li value="6">
    <p>
     Click
     <b>
      Next
     </b>
     . Anomaly detection processing begins.
    </p>
    <p>
     When processing is complete, the Anomaly Thresholding panel appears.
    </p>
   </li>
  </ol>
  <h2>
   <a name="ADThresholding">
   </a>
   Anomaly Thresholding
  </h2>
  <p>
   In the Anomaly Thresholding panel, you can optionally set the
   <b>
    Anomaly Percentage Threshold
   </b>
   . This value segments the image into anomalous and non-anomalous regions. The threshold should be set low enough to minimize false positives without omitting real anomalies.
  </p>
  <p>
   When thresholding is complete, the Export panel appears.
  </p>
  <h2>
   <a name="ADExport">
   </a>
   Export Anomaly Detection Results
   <a name="kanchor252">
   </a>
  </h2>
  <ol>
   <li value="1">
    In the Export Files tab of the Export panel, enable the output options you want. The following are available:
   </li>
   <ul>
    <li value="1">
     <b>
      Export Anomaly Detection Image
     </b>
     saves the thresholding result to an ENVI raster.
    </li>
    <li value="2">
     <b>
      Export Anomaly Detection Vector
     </b>
     saves  the vectors created during thresholding.  The supported vector output formats are shapefile and geodatabase. The output area units are in square meters.
    </li>
    <li value="3">
     <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
      <span class="autonumber">
       <span>
        <b>
         Note:
        </b>
       </span>
      </span>
      Depending on the image size, exporting to vectors may be time-consuming.  To reduce the export time, performing the Cleanup step prior to export is recommended.
     </p>
    </li>
   </ul>
   <li value="2">
    In the Additional Export tab, enable any other output options you want. The following are available:
   </li>
   <ul>
    <li value="1">
     <b>
      Export Anomaly Detection Statistics
     </b>
     saves statistics on the thresholding image.The output area units are in square meters.
    </li>
    <li value="2">
     <b>
      Export Unthresholded Anomaly Detection Image
     </b>
     saves the unthresholded anomaly detection image to an image. The supported image output formats are ENVI, geodatabase, and TIFF.
    </li>
   </ul>
   <li value="3">
    Click
    <b>
     Finish
    </b>
    to create the output, add the new layers to the Layer Manager, and save the files to the directories you specified. When the export is complete, the workflow view closes. The original data and the export data display in the Image window view.
   </li>
  </ol>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>