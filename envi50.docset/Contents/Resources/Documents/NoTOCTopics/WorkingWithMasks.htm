<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Working With Masks
  </title>
  <link href="../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../ENVIHelp_CSH.htm#NoTOCTopics/WorkingWithMasks.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <h2>
   Working With Masks
   <a name="kanchor851">
   </a>
  </h2>
  <p>
   Masking is a powerful feature in image processing used to reduce clutter and improve accuracy in the final results. Masks allow you to confine image processing to specific areas in the image (a
   <i>
    regular
   </i>
   mask) or to ignore specific areas in an image for processing (an
   <i>
    inverse
   </i>
   mask).
  </p>
  <p>
   Suppose that in the following multispectral image, you want to limit  processing to only residential areas so that you can identify rooftops.
  </p>
  <p>
   <img src="../Resources/Images/mask_input_image.gif" alt="Sample image" />
  </p>
  <p>
   You could create a mask similar to the following example. If you were to import this mask during the data selection step, each subsequent step of the workflow would ignore the area associated with the masked pixels.
  </p>
  <p>
   <img src="../Resources/Images/mask_description.gif" alt="Masked image" />
  </p>
  <p>
   By default, the workflow will ignore areas with pixel values of 0 in the mask during processing. To use an inverse version of the mask, select the
   <b>
    Inverse
   </b>
   check box. The workflow will process the areas with pixel values of 0 and will ignore all other pixels.
  </p>
  <h3>
   Masks in Classification Images
  </h3>
  <p>
   When you supply a mask for use with classification images,
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   will create a new class called "Mask" whose pixel value is one greater than the highest class value in the image. This is meant to differentiate "unclassified" pixels from those that you wish to exclude from processing. For example, if you have a classification image where 0=unclassified, 1=vegetation, and 2=urban,
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   will assign a value of 3 to the masked pixels.
  </p>
  <h3>
   Restrictions
  </h3>
  <p>
   The following restrictions apply to working with masks:
  </p>
  <ul>
   <li value="1">
    You can only use a single-band image or polygon shapefile as a mask file. Multi-band images or point/line shapefiles are not allowed.
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    will convert polygon shapefiles to raster images for the workflow.
   </li>
   <li value="2">
    You can only specify one mask file for input. If you have multiple mask files, you can combine them into one image in
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    prior to using Feature Extraction.
   </li>
   <li value="3">
    A mask must have the same map projection as the base layer. Masks are not reprojected to match the base layer image. If the mask has a different map projection than the base image, you could change the mask's map projection in
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    prior to using it in the workflow.
   </li>
  </ul>
  <h3>
   Creating Mask Files
  </h3>
  <p>
   Following are some suggested steps for creating a mask file:
  </p>
  <ol>
   <li value="1">
    Open and display an image.
   </li>
   <li value="2">
    From the menu bar, select
    <b>
     File &gt;&#160;New &gt; Vector Layer
    </b>
    . The Create New Vector Layer dialog appears.
   </li>
   <li value="3">
    Enter a
    <b>
     Layer Name
    </b>
    .
   </li>
   <li value="4">
    From the
    <b>
     Record Type
    </b>
    drop-down list, select
    <b>
     Polygon
    </b>
    .
   </li>
   <li value="5">
    Click
    <b>
     OK
    </b>
    .
   </li>
   <li value="6">
    Use the  Vector Create tool to draw polygons in the Image window view. The regions outside of the polygon will be ignored during processing when the mask is used as a regular mask.
   </li>
   <li value="7">
    From the menu bar, select
    <b>
     File &gt;&#160;Save As &gt; New Vector
    </b>
    . Save the vector layer to a shapefile.
   </li>
  </ol>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>