<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Spectral Tools|Mapping Methods" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Mixture Tuned Matched Filtering
  </title>
  <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../ENVIHelp_CSH.htm#SpectralTools/MTMF.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="SpectralTools.htm">
    Spectral Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="SpectralMappingMethods.htm">
    Mapping Methods
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Mixture Tuned Matched Filtering
   </span>
  </div>
  <h1>
   Mixture Tuned Matched Filtering
   <a name="kanchor395">
   </a>
  </h1>
  <p>
   Use
   <b>
    Mixture Tuned Matched Filtering
   </b>
   (MTMF) to perform Matched Filtering (MF) and to add an infeasibilityimage to the results. The infeasibility image is used to reduce the number of false positives that are sometimes found when using MF. Pixels with a high infeasibility are likely to be MF false positives. Correctly mapped pixels will have an MF score above the background distribution around zero and a low infeasibility value. The infeasibility values are in noise sigma units that vary in DN scale with an MF score (see the following figure). For additional information, see
   <a href="#results">
    Mixture Tuned Matched Filtering Results
   </a>
   .
  </p>
  <p>
   MTMF requires an
   <a href="../PreprocessImagery/Transforms/MinimumNoiseFractionTransform.htm">
    MNF transform
   </a>
   input file, or other data with isotropic, unit variance noise.
  </p>
  <p>
   <img src="../Resources/Images/Spectral/mtmf.gif" />
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   See
   <a href="SpectralHourglassWizard.htm">
    Spectral Hourglass Wizard
   </a>
   for instructions on the
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   hourglass processing flow, including MNF transforms and MTMF, to find and map image spectral endmembers from hyperspectral or multispectral data.
  </p>
  <ol>
   <li value="1">
    From the Toolbox, select
    <b>
     Spectral &gt; Mapping Methods &gt; Mixture Tuned Matched Filtering
    </b>
    . The Mixture Tuned Matched Filter Input File dialog appears.
   </li>
   <li value="2">
    Select the input MNF file and perform optional spatial and spectral
    <a href="../NoTOCTopics/Subsetting.htm">
     subsetting
    </a>
    , then click
    <b>
     OK
    </b>
    . The Endmember Collection:Mixture Tuned MF dialog appears.
   </li>
   <li value="3">
    <a href="../FindFeatures/Classification/ClassificationTools/ImportingSpectra.htm">
     Import spectra
    </a>
    to match.
   </li>
   <p>
    The spectra must be in
    <a href="../PreprocessImagery/Transforms/MinimumNoiseFractionTransform.htm">
     MNF space
    </a>
    . You can calculate the spectra from ROIs in the MNF input file or transform them into MNF space.
   </p>
   <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
    <span class="autonumber">
     <span>
      <b>
       Note:
      </b>
     </span>
    </span>
    The input spectra must be pure and spectrally extreme endmembers, for the MTMF to be interpretable. You can identify these types of endmembers using the Pixel Purity Index (PPI) and
    <a href="nDimensionalVisualizer.htm">
     n-D Visualizer
    </a>
    .
   </p>
   <li value="4">
    Click
    <b>
     Apply
    </b>
    . The Mixture Tuned Matched Filter Parameters dialog appears.
   </li>
   <li value="5">
    Use the toggle button to select
    <b>
     Compute New Covariance Stats
    </b>
    and enter an output statistics filename, or toggle to
    <b>
     Use Existing Stats File
    </b>
    .
   </li>
   <li value="6">
    If you selected
    <b>
     Compute New Covariance Stats
    </b>
    : To remove anomalous pixels before calculating background statistics, enable the
    <b>
     Subspace Background
    </b>
    check box. Then, specify in the
    <b>
     Background Threshold
    </b>
    field the fraction of the background in the anomalous image to use for calculating the subspace background statistics. The threshold range is 0.500 to 1.000 (the entire image).
   </li>
   <li value="7">
    Select output to
    <b>
     File
    </b>
    or
    <b>
     Memory
    </b>
    .
   </li>
   <li value="8">
    From the
    <b>
     Output Data Type
    </b>
    drop-down list, select
    <b>
     Byte
    </b>
    or
    <b>
     Floating Point
    </b>
    .
   </li>
   <li value="9">
    If you select
    <b>
     Byte
    </b>
    , enter a
    <b>
     Min
    </b>
    and
    <b>
     Max
    </b>
    stretch value.
   </li>
   <li value="10">
    Click
    <b>
     OK
    </b>
    .
   </li>
   <li value="11">
    If you selected
    <b>
     Use Existing Stats File
    </b>
    , select the statistics file that corresponds to the input data file when the Input File dialog appears. This statistics file must contain both the mean and covariance statistics for the input data.
   </li>
  </ol>
  <h2>
   <a name="results">
   </a>
   Mixture Tuned Matched Filtering Results
  </h2>
  <p>
   The output from MTMF is a set of rule images corresponding to both the MF score and the infeasibility score for each pixel compared to each endmember spectrum (two rule images per endmember). The MF floating-point results help estimate the relative degree of match to the reference spectrum and the approximate sub-pixel abundance, where 1.0 is a perfect match. The infeasibility results are in noise sigma units and indicate the feasibility of the MF result. Correctly mapped pixels have an MF score above the background distribution, which has some noise-limited spread around zero, and a low infeasibility value.
  </p>
  <p>
   You can use a 2D scatter plot to identify the pixels with low infeasibilities and high MF scores. Use interactive stretching to stretch the upper tail of the histogram when viewing the
   <a href="MatchedFiltering.htm#results">
    MF resulting bands
   </a>
   to show only pixels containing the target material.
  </p>
  <ol>
   <li value="1">
    In the Layer Manager, select an MF Score image, click the
    <b>
     Gray Scale
    </b>
    radio button, and click
    <b>
     Load Band
    </b>
    .
   </li>
   <li value="2">
    From the menu bar, select
    <b>
     Display &gt; 2D Scatter Plot
    </b>
    .
   </li>
   <li value="3">
    Select an MF Score image from the
    <b>
     X Band
    </b>
    list, and select the corresponding Infeasibility image from the
    <b>
     Y Band
    </b>
    list.
   </li>
   <li value="4">
    Pixels with high MF scores and high infeasibility are probably false alarms and should be rejected. Ideally, you should see a horizontal arm of true detections across the bottom of the scatter plot. You can retrieve reliable sub-pixel abundance values from the MF scores for low-infeasibility pixels.
   </li>
  </ol>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>