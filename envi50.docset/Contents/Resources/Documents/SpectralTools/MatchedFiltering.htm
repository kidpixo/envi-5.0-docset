<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Spectral Tools|Mapping Methods" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Matched Filtering
  </title>
  <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../ENVIHelp_CSH.htm#SpectralTools/MatchedFiltering.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="SpectralTools.htm">
    Spectral Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="SpectralMappingMethods.htm">
    Mapping Methods
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Matched Filtering
   </span>
  </div>
  <h1>
   Matched Filtering
   <a name="kanchor393">
   </a>
  </h1>
  <p>
   Use
   <b>
    Matched Filtering (MF)
   </b>
   to find the abundances of user-defined endmembers using a partial unmixing. This technique maximizes the response of the known endmember and suppresses the response of the composite unknown background, thus matching the known signature. It provides a rapid means of detecting specific materials based on matches to library or image endmember spectra and does not require knowledge of all the endmembers within an image scene. This technique may find some false positives for rare materials. See
   <a href="SpectralToolsReferences.htm">
    Spectral Tools References
   </a>
   and
   <a href="#results">
    Matched Filtering Results
   </a>
   for additional information.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   You can use
   <a href="MTMF.htm">
    MTMF
   </a>
   to reduce the number of false positives.
  </p>
  <ol>
   <li value="1">
    From the Toolbox, select
    <b>
     Spectral &gt; Mapping Methods &gt; Matched Filtering
    </b>
    . The Matched Filter Input File dialog appears.
   </li>
   <li value="2">
    Select the input file and perform optional spatial and spectral
    <a href="../NoTOCTopics/Subsetting.htm">
     subsetting
    </a>
    , and/or masking, then click
    <b>
     OK
    </b>
    .
   </li>
   <li value="3">
    Click
    <b>
     OK
    </b>
    . The Endmember Collection:Matched Filter dialog appears.
   </li>
   <li value="4">
    <a href="../FindFeatures/Classification/ClassificationTools/ImportingSpectra.htm">
     Import spectra
    </a>
    to match. For details, see Endmember Options and Managing Endmember Spectra.
   </li>
   <li value="5">
    Click
    <b>
     Apply
    </b>
    . The Matched Filter Parameters dialog appears.
   </li>
   <li value="6">
    Use the toggle button to select
    <b>
     Compute New Covariance Stats
    </b>
    and enter an output statistics filename, or toggle to
    <b>
     Use Existing Stats File
    </b>
    .
   </li>
   <li value="7">
    If you selected
    <b>
     Compute New Covariance Stats
    </b>
    : To remove anomalous pixels before calculating background statistics, enable the
    <b>
     Subspace Background
    </b>
    check box. Then, specify in the
    <b>
     Background Threshold
    </b>
    field the fraction of the background in the anomalous image to use for calculating the subspace background statistics. The threshold range is 0.500 to 1.000 (the entire image).
   </li>
   <li value="8">
    Select output to
    <b>
     File
    </b>
    or
    <b>
     Memory
    </b>
    .
   </li>
   <li value="9">
    From the
    <b>
     Output Data Type
    </b>
    drop-down list, select
    <b>
     Byte
    </b>
    or
    <b>
     Floating Point
    </b>
    .
   </li>
   <li value="10">
    If you select
    <b>
     Byte
    </b>
    , enter a
    <b>
     Min
    </b>
    and
    <b>
     Max
    </b>
    stretch value.
   </li>
   <li value="11">
    Click
    <b>
     OK
    </b>
    . If you selected
    <b>
     Use Existing Stats File
    </b>
    , select the statistics file that corresponds to the input data file when the Input File dialog appears. This statistics file must contain both the mean and covariance statistics for the input data.
   </li>
  </ol>
  <h2>
   <a name="results">
   </a>
   Matched Filtering Results
   <a name="kanchor394">
   </a>
  </h2>
  <p>
   The results of MF appear as a series of gray scale images, one for each selected endmember. Floating-point results provide a means of estimating the relative degree of match to the reference spectrum and approximate sub-pixel abundance, where 1.0 is a perfect match.
  </p>
  <p>
   You should stretch each image.
  </p>
  <p>
   If you selected byte data type output, use the data in the upper tail of the histogram for the stretch.
  </p>
  <p>
   The data histogram of the background material is centered around 0, and the target (endmember) appears in the upper tail of the histogram (see the figure below). Therefore, the data in the upper tail of the histogram should be stretched from about 0.1 to about 0.65 to show only pixels containing the target material. Image values in the symmetric histogram distribution centered on 0 are background areas.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   You can
   <a href="../ExploreImagery/EnterOptionalHeaderInformation.htm#Set2">
    set a default stretch range
   </a>
   so that you do not have to stretch the data each time they are displayed.
  </p>
  <p>
   <img src="../Resources/Images/Spectral/match.gif" />
  </p>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>