<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Spectral Tools|SPEAR Tools" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   SPEAR Lines of Communication (LOC) - Roads
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../ENVIHelp_CSH.htm#SpectralTools/SPEARTools/SPEARLinesOfCommunicationRoads.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../SpectralTools.htm">
    Spectral Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="SpearTools.htm">
    SPEAR Tools
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    SPEAR Lines of Communication (LOC) - Roads
   </span>
  </div>
  <h1>
   SPEAR Lines of Communication (LOC) - Roads
  </h1>
  <p>
   <a name="kanchor375">
   </a>
   The SPEAR LOC - Roads tool streamlines spectral processing for mapping road lines of communication (LOCs) using multispectral data.
  </p>
  <p>
   This tool highlights roads to aid manual digitizing. Depending on your level of knowledge of road locations within the scene, you can process the scene using one of two different workflows:
  </p>
  <ul>
   <li value="1">
    Use the supervised spectral processing workflow if you can manually identify roads of different types in the image. Road types that have been trained are mapped throughout the scene using spectral algorithms.
   </li>
   <li value="2">
    Use the unsupervised spectral processing workflow when you cannot manually identify roads of different types in the image. This method uses Principal Components Analysis and/or a red soil algorithm to highlight roads.
   </li>
  </ul>
  <p>
   See the following sections:
  </p>
  <ul>
   <li value="1">
    <a href="#Running">
     Run the LOC - Roads Wizard
    </a>
   </li>
   <li value="2">
    <a href="#supervised_spectral_matching">
     Supervised (Spectral Matching)
    </a>
   </li>
   <li value="3">
    <a href="#unsupervised">
     Unsupervised (PCA, Red Soil)
    </a>
   </li>
  </ul>
  <h2>
   <a name="Running">
   </a>
   Run the LOC - Roads Wizard
  </h2>
  <ol>
   <li value="1">
    From the Toolbox, select
    <b>
     SPEAR &gt; SPEAR LOC&#160;- Roads
    </b>
    . The LOC - Roads Wizard displays the File Selection panel.
   </li>
   <li value="2">
    Click
    <b>
     Select Input File
    </b>
    , choose a file, then click
    <b>
     OK
    </b>
    . The input image should be a multispectral file in any format readable by ENVI.
   </li>
   <li value="3">
    If wavelengths are not embedded in the image header, a series of Select Band dialogs appear. Select the Blue band, Green band, Red band, and NIR band, then click
    <b>
     OK
    </b>
    after each selection.
   </li>
   <li value="4">
    To optionally process only a portion of the scene, click
    <b>
     Select Subset
    </b>
    . A small Select Spatial Subset dialog appears.
   </li>
   <li value="5">
    Click
    <b>
     Spatial Subset
    </b>
    . The standard Select Spatial Subset dialog appears. When finished, click
    <b>
     OK
    </b>
    to return to the File Selection panel.
   </li>
   <li value="6">
    By default, output files are saved to the same directory and use the same rootname as the input file, minus any extension. Output files are appended with a unique suffix. To change the directory and/or root filename, click
    <b>
     Select Output Root Name
    </b>
    .
   </li>
   <li value="7">
    Click
    <b>
     Next
    </b>
    . The Method Selection panel appears.
   </li>
   <li value="8">
    Select one of the following processing methods, then click
    <b>
     Next
    </b>
    :
   </li>
   <ul>
    <li value="1">
     <b>
      <a href="#supervised_spectral_matching">
       Supervised (Spectral Matching)
      </a>
     </b>
    </li>
    <li value="2">
     <b>
      <a href="#unsupervised">
       Unsupervised (PCA, Red Soil)
      </a>
     </b>
    </li>
   </ul>
   <li value="9">
    In the Digitize LOCs panel, select result to display. For example, if you select
    <b>
     Principal Components
    </b>
    from the
    <b>
     Examine Result for
    </b>
    drop-down list, there is a list of PC images to select from (one per input spectral band).
   </li>
   <li value="10">
    <a name="Step10">
    </a>
    Click
    <b>
     Load
    </b>
    <i>
     image_type
    </i>
    to load the image. The following appear:
   </li>
   <ul>
    <li value="1">
     One display group contains a natural color composite of the input image, to use as reference.
    </li>
    <li value="2">
     One display group contains the selected spectral processing result. This display group is dynamically linked to the natural color window. Use the dynamic overlay tool to see how the spectral processing result relates to the natural color reference image.
    </li>
    <li value="3">
     Optionally, click on the dotted bar in the histogram window or enter values in the fields at the top of the histogram window to explore different stretching options. For MF/SAM Ratio, MF, and Red Soil results, roads are always bright. For SAM, roads are dark. For PC, you must manually load each image to search for the one that highlights roads. The roads may be either bright or dark. Use
     <b>
      <a href="AutoFlicker.htm">
       Auto-Flicker
      </a>
     </b>
     to examine your results.
    </li>
    <li value="4">
     <p>
      The Vector Parameters dialog, containing the three default vector layers (Primary, Secondary, and Tertiary).
     </p>
     <p>
      The following shoes an Unstretched Image (right) and Stretched Image (left) Highlights Red Soil Roads (Imagery Courtesy of DigitalGlobe)
     </p>
     <p>
      <img src="../../Resources/Images/Spectral/locroads_stretch_458x374.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 6.000484px;margin-bottom: 6.000454px;width: 458;height: 374;" />
     </p>
    </li>
   </ul>
   <li value="11">
    Use the Vector Parameters dialog to add new road vectors.  Assign the roads within the image to the three default vector layers as desired.
   </li>
   <ul>
    <li value="1">
     To create a new vector layer for digitization, click
     <b>
      Create
     </b>
     , in the Digitize LOCs panel and enter a descriptive layer name and a filename.
    </li>
    <li value="2">
     To import an existing vector layer so that new LOCs may be added to it, click
     <b>
      Import
     </b>
     . (The vector layer to import must already be open in ENVI.)
    </li>
    <li value="3">
     To remove a vector layer, select the layer to remove, then click
     <b>
      Remove
     </b>
     . You cannot remove the default layers.
    </li>
    <li value="4">
     At any time during digitizing, you can use the histogram to stretch the display group containing the spectrally processed result, or display a different result using the controls in the Display Results dialog.
    </li>
    <li value="5">
     <p>
      Vectors are saved automatically each time the displayed image changes, or before you move to the next step.
     </p>
     <p>
      <img src="../../Resources/Images/Spectral/locroads_digitize_385x377.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 6.000484px;margin-bottom: 5.999783px;width: 385;height: 377;" />
     </p>
    </li>
   </ul>
   <li value="12">
    When digitizing LOCs is complete, click
    <b>
     Next
    </b>
    . The Export Vectors panel appears.
   </li>
   <li value="13">
    Optionally, select vector layers to export to separate files from the
    <b>
     Vector Output
    </b>
    list. The vectors you digitized are stored in separate files in
    <span class="DocumentTitleProductName">
     ENVI
    </span>
    vector file (
    <code>
     .evf
    </code>
    ) format. These vectors remain in the projection and datum of the input image. Each exported vector will result in the following files being created:
   </li>
   <ul>
    <li value="1">
     <span class="DocumentTitleProductName">
      ENVI
     </span>
     vector file (
     <code>
      .evf
     </code>
     ) in the native image projection
    </li>
    <li value="2">
     <span class="DocumentTitleProductName">
      ENVI
     </span>
     vector file (
     <code>
      .evf
     </code>
     ) in Geographic/WGS84 projection
    </li>
    <li value="3">
     Shapefile (
     <code>
      .shp
     </code>
     ) in Geographic/WGS84 projection
    </li>
    <li value="4">
     Keyhole markup language file (
     <code>
      .kml
     </code>
     ) in Geographic/WGS84 projection for use in Google Earth
    </li>
   </ul>
   <li value="14">
    Click
    <b>
     Export Selected Layer(s)
    </b>
    . By default, output files are saved to the same directory and use the same rootname as the input file, minus any extension. Output files are appended with a unique suffix. Separate files are written for the Primary, Secondary, and Tertiary LOC layers, plus any layers you created or imported.
   </li>
   <li value="15">
    Optionally, click
    <b>
     Export Selected Layer(s) to ArcGIS Geodatabase
    </b>
    . The Select Output Geodatabase dialog appears.
   </li>
   <li value="16">
    When you are finished exporting results, click
    <b>
     Next
    </b>
    in the Export Vectors panel, then click
    <b>
     Finish
    </b>
    to exit the Wizard.
   </li>
  </ol>
  <h2>
   <a name="supervised_spectral_matching">
   </a>
   Supervised (Spectral Matching)
  </h2>
  <ol>
   <li value="1">
    When you select
    <b>
     Supervised (Spectral Matching)
    </b>
    , then click
    <b>
     Next
    </b>
    in the Method Selection panel, the Atmospheric Correction panel appears.
   </li>
   <li value="2">
    <a href="SPEARAtmosphericCorrection.htm">
     Select an atmospheric correction method
    </a>
    . Dark object subtraction produces good results with minimal user input.
   </li>
   <li value="3">
    When atmospheric correction is complete, click
    <b>
     Next
    </b>
    . A natural color composite image is loaded into a display group, the ROI dialog appears, and the Select Training Pixels panel appears.
   </li>
   <li value="4">
    Use the ROI Tools dialog to create a new ROI for each road type to map. You need enough ROIs to accurately represent the different types of road LOCs that occur within the scene, such as road types that are spectrally different from each other (gravel, asphalt, red soil, etc.). Choose multiple pixels for each ROI to represent variability within that type of road.
   </li>
   <li value="5">
    Click
    <b>
     Next
    </b>
    . The ROI Selection dialog appears.
   </li>
   <li value="6">
    Select one or more ROIs to map, then click
    <b>
     OK
    </b>
    . The Spectral Processing panel appears.
   </li>
   <li value="7">
    Select one or more
    <b>
     Spectral Processing Parameters
    </b>
    :
   </li>
   <ul>
    <li value="1">
     <b>
      Spectral Processing (
      <a href="../MatchedFiltering.htm">
       MF
      </a>
      ,
      <a href="../../FindFeatures/Classification/ClassificationTools/SpectralAngleMapper.htm">
       SAM
      </a>
      , and MF/SAM Ratio):
     </b>
     <![CDATA[ ]]>
     The
     <b>
      MF/SAM Ratio
     </b>
     method suppresses false positives that may be present in one, but not the other, while enhancing true positives. For example, a pixel containing a road has a high MF value and low SAM value. A high value divided by a low value results in a very large value, therefore enhancing the positive result. Conversely, if the MF product has a high value for a false positive, but the SAM correctly maps it as non-road so it has a high value, the high value divided by high value results in a smaller value, suppressing the false positive.
    </li>
    <li value="2">
     <b>
      Principal Component (PC)
     </b>
    </li>
    <li value="3">
     <b>
      Independent Components
     </b>
    </li>
    <li value="4">
     <b>
      Red Soil:
     </b>
     The Red Soil transform works in the same manner as the common NDVI transform used to map vegetation. Red Soil produces a single grayscale image where red soil (and anything else that is red) is bright. Some other features may also appear bright in the Red Soil result, such as clouds.
    </li>
   </ul>
   <li value="8">
    Click
    <b>
     Next
    </b>
    . The Digitize LOCs panel appears. See
    <a href="#Step10">
     Step 10
    </a>
    above for details on manually digitizing LOCs.
   </li>
  </ol>
  <h2>
   <a name="unsupervised">
   </a>
   Unsupervised (PCA, Red Soil)
  </h2>
  <ol>
   <li value="1">
    When you select
    <b>
     Unsupervised (PCA, Red Soil)
    </b>
    , then click
    <b>
     Next
    </b>
    in the Method Selection panel, the Spectral Processing panel appears.
   </li>
   <li value="2">
    Select one or more
    <b>
     Spectral Processing Parameters
    </b>
    :
   </li>
   <ul>
    <li value="1">
     <b>
      Principal Components Analysis (PC)
     </b>
    </li>
    <li value="2">
     <b>
      Independent Components Analysis (IC)
     </b>
    </li>
    <li value="3">
     <p>
      <b>
       Red Soil
      </b>
      : The Red Soil transform works in the same manner as the common NDVI transform used to map vegetation. Red Soil produces a single grayscale image where red soil (and anything else that is red) is bright. Some other features may also appear bright in the Red Soil result, such as clouds.
     </p>
    </li>
   </ul>
   <li value="3">
    Click
    <b>
     Next
    </b>
    . The Digitize LOCs panel appears. See
    <a href="#Step10">
     Step 10
    </a>
    above for details on manually digitizing LOCs.
   </li>
  </ol>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>