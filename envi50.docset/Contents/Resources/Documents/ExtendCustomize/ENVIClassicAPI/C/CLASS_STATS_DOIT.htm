<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Programming|Routines|Processing" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   CLASS_STATS_DOIT
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#ExtendCustomize/ENVIClassicAPI/C/CLASS_STATS_DOIT.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingWithENVI.htm">
    Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../Routines.htm">
    Routines
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../A/ADAPT_FILT_DOIT.htm">
    Processing
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    CLASS_STATS_DOIT
   </span>
  </div>
  <h1>
   <a name="kanchor682">
   </a>
   CLASS_STATS_DOIT
  </h1>
  <p>
   Use this procedure to calculate statistics for images based on a classification mask.
  </p>
  <h2 class="API">
   <a name="Syntax">
   </a>
   Syntax
  </h2>
  <p>
   ENVI_DOIT, 'CLASS_STATS_DOIT',
   <a href="#CLASS_DIMS">
    CLASS_DIMS
   </a>
   =
   <i>
    array
   </i>
   ,
   <a href="#CLASS_FID">
    CLASS_FID
   </a>
   =
   <i>
    file ID
   </i>
   ,
   <a href="#CLASS_PTR">
    CLASS_PTR
   </a>
   =
   <i>
    array
   </i>
   ,
   <a href="#COMP_FLAG">
    COMP_FLAG
   </a>
   ={0 | 1 | 2} [,
   <a href="#COV">
    COV
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DMAX">
    DMAX
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DMIN">
    DMIN
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#EVAL">
    EVAL
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#EVEC">
    EVEC
   </a>
   =
   <i>
    variable
   </i>
   ],
   <a href="#FID">
    FID
   </a>
   =file ID [,
   <a href="#HIST">
    HIST
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#MEAN">
    MEAN
   </a>
   =
   <i>
    variable
   </i>
   ],
   <a href="#POS">
    POS
   </a>
   =
   <i>
    array
   </i>
   [,
   <a href="#REP_NAME">
    REP_NAME
   </a>
   =
   <i>
    array
   </i>
   ] [,
   <a href="#REPORT_FLAG">
    REPORT_FLAG
   </a>
   ={0 | 1 | 2}] [,
   <a href="#STA_NAME">
    STA_NAME
   </a>
   =
   <i>
    string array
   </i>
   ] [,
   <a href="#STDV">
    STDV
   </a>
   =
   <i>
    variable
   </i>
   ] [, /
   <a href="#TO_SCREEN">
    TO_SCREEN
   </a>
   ]
  </p>
  <h2 class="API">
   <a name="Keywords">
   </a>
   Keywords
  </h2>
  <h3>
   <a name="CLASS_DIMS">
   </a>
   CLASS_DIMS
  </h3>
  <p>
   Use this keyword to specify the spatial dimensions on which to perform the operation. CLASS_DIMS is a five-element array of long integers with the following definitions:
  </p>
  <ul>
   <li value="1">
    CLASS_DIMS[0]: Unused for this function, set to -1
   </li>
   <li value="2">
    CLASS_DIMS[1]: The starting x pixel (0)
   </li>
   <li value="3">
    CLASS_DIMS[2]: The ending x pixel
   </li>
   <li value="4">
    CLASS_DIMS[3]: The starting y pixel (0)
   </li>
   <li value="5">
    CLASS_DIMS[4]: The ending y pixel
   </li>
  </ul>
  <p>
   Note that the dimensions specified must be within the classification image, including the first pixel offsets.
  </p>
  <h3>
   <a name="CLASS_FID">
   </a>
   CLASS_FID
  </h3>
  <p>
   Use this keyword to specify the file ID of the classification image.
  </p>
  <h3>
   <a name="CLASS_PTR">
   </a>
   CLASS_PTR
  </h3>
  <p>
   Use this keyword to specify an array of long integers representing class numbers on which to perform statistics.
  </p>
  <h3>
   <a name="COMP_FLAG">
   </a>
   COMP_FLAG
  </h3>
  <p>
   Set this keyword equal to a bit value indicating the calculations to perform.
  </p>
  <ul>
   <li value="1">
    Bit 0: Not used
   </li>
   <li value="2">
    Bit 1: Enables the calculation of histograms
   </li>
   <li value="3">
    Bit 2: Enables the calculation of covariance
   </li>
   <li value="4">
    Bits 3 to 15: Not used
   </li>
  </ul>
  <h3>
   <a name="COV">
   </a>
   COV (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the returned covariance matrix. You must set bit 2 in COMP_FLAG (i.e., COMP_FLAG=4) to generate the covariance matrix.
  </p>
  <h3>
   <a name="DMAX">
   </a>
   DMAX (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data maximums, one for each band position.
  </p>
  <h3>
   <a name="DMIN">
   </a>
   DMIN (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data minimums, one for each band position.
  </p>
  <h3>
   <a name="EVAL">
   </a>
   EVAL (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the eigenvalues. You must set bit 2 in COMP_FLAG (i.e., COMP_FLAG=4) to generate the covariance matrix.
  </p>
  <h3>
   <a name="EVEC">
   </a>
   EVEC (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the eigenvector. You must set bit 2 in COMP_FLAG (i.e., COMP_FLAG=4) to generate the covariance matrix.
  </p>
  <h3>
   <a name="FID">
   </a>
   FID
  </h3>
  <p>
   The file ID (FID) is a long-integer scalar with a value greater than 0. An invalid FID has a value of -1. The FID is provided as a named variable by any routine used to open or select a file. Often, the FID is returned from the keyword R_FID in the
   <a href="../../ENVIRasterToFID.htm">
    ENVIRasterToFID
   </a>
   routine. Files are processed by referring to their FIDs. If you work directly with the file in IDL, the FID is
   <i>
    not
   </i>
   equivalent to a logical unit number (LUN).
  </p>
  <h3>
   <a name="HIST">
   </a>
   HIST (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the histogram array. You must set bit 1 in COMP_FLAG (i.e., COMP_FLAG=2) to generate the histogram output.
  </p>
  <h3>
   <a name="MEAN">
   </a>
   MEAN (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data means, one for each band position.
  </p>
  <h3>
   <a name="POS">
   </a>
   POS
  </h3>
  <p>
   Use this keyword to specify an array of band positions, indicating the band numbers on which to perform the operation. This keyword indicates the spectral subset of bands to use in processing. POS is an array of long integers, ranging from 0 to the number of bands minus 1. Specify bands starting with zero (Band 1=0, Band 2=1, etc.) For example, to process only Bands 3 and 4 of a multi-band file, POS=[2, 3].
  </p>
  <p>
   POS is typically used with individual files. The example code below for
   <a href="../ENVI_S/ENVI_STATS_DOIT.htm">
    ENVI_STATS_DOIT
   </a>
   illustrates the use of POS for a single file with four bands of data:
  </p>
  <p class="Code_Indented">
   pos=[0,1,2,3]
  </p>
  <p class="Code_Indented">
   <br />
   envi_doit, 'envi_stats_doit', dims=dims, fid=fid, pos=pos, $
  </p>
  <p class="Code_Indented">
   <br />
   comp_flag=3, dmin=dmin, dmax=dmax, mean=mean, stdv=stdv, hist=hist
  </p>
  <p>
   But what if you need to create an output file consisting of data from different bands, each from different files? Library routines such as
   <a href="CF_DOIT.htm">
    CF_DOIT
   </a>
   and
   <a href="../ENVI_L/ENVI_LAYER_STACKING_DOIT.htm">
    ENVI_LAYER_STACKING_DOIT
   </a>
   can accomplish this, but they use the POS keyword differently. Suppose you have four files,
   <code>
    test1
   </code>
   ,
   <code>
    test2
   </code>
   ,
   <code>
    test3
   </code>
   , and
   <code>
    test4
   </code>
   , with corresponding FIDs of
   <code>
    fid1
   </code>
   ,
   <code>
    fid2
   </code>
   ,
   <code>
    fid3
   </code>
   , and
   <code>
    fid4
   </code>
   , respectively. In the following example, you want Band 3 from
   <code>
    test1
   </code>
   in the first position, Band 2 from
   <code>
    test2
   </code>
   in the second position, Band 6 from
   <code>
    test3
   </code>
   in the third position, and Band 4 from
   <code>
    test4
   </code>
   in the fourth position. The code should be as follows:
  </p>
  <p class="Code_Indented">
   fid_array = [fid1,fid2,fid3,fid4]
  </p>
  <p class="Code_Indented">
   <br />
   pos=[2,1,5,3]
  </p>
  <p class="Code_Indented">
   <br />
   envi_doit, 'cf_doit', dims=dims, fid=fid_array
  </p>
  <p class="Code_Indented">
   <br />
   out_name='test_composite_file'
  </p>
  <h3>
   <a name="REP_NAME">
   </a>
   REP_NAME (optional)
  </h3>
  <p>
   Use this keyword to specify a string array containing the filename for the output report file.
  </p>
  <h3>
   <a name="REPORT_FLAG">
   </a>
   REPORT_FLAG (optional)
  </h3>
  <p>
   Set this keyword equal to a bit value indicating the type of output reports desired. Logically AND the bit values together to get the desired reports.
  </p>
  <ul>
   <li value="1">
    Bit 0: Basic statistics (REPORT_FLAG=1)
   </li>
   <li value="2">
    Bit 1: Generate histogram report (default, REPORT_FLAG=2)
   </li>
   <li value="3">
    Bit 2: Generate covariance report (REPORT_FLAG=4)
   </li>
   <li value="4">
    Bits 3 to 15: Not used
   </li>
  </ul>
  <p>
   If REPORT_FLAG=0, no output report is generated.
  </p>
  <h3>
   <a name="STA_NAME">
   </a>
   STA_NAME (optional)
  </h3>
  <p>
   Use this keyword to specify a string array containing the filename for the output statistics file.
  </p>
  <h3>
   <a name="STDV">
   </a>
   STDV (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data standard deviations, one for each band position.
  </p>
  <h3>
   <a name="TO_SCREEN">
   </a>
   TO_SCREEN (optional)
  </h3>
  <p>
   Set this keyword to print the report on the screen. This keyword only controls the display of the secondary statistics report window. The main statistics report window will appear regardless of this keyword.
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>