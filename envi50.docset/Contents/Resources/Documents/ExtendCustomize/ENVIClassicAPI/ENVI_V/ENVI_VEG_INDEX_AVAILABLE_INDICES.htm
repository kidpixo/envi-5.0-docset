<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Programming|Routines|Data Control|ENVI Classic" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   ENVI_VEG_INDEX_AVAILABLE_INDICES
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#ExtendCustomize/ENVIClassicAPI/ENVI_V/ENVI_VEG_INDEX_AVAILABLE_INDICES.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingWithENVI.htm">
    Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../Routines.htm">
    Routines
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../ENVICoordSys.htm">
    Data Control
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    ENVI_VEG_INDEX_AVAILABLE_INDICES
   </span>
  </div>
  <h1>
   <a name="kanchor578">
   </a>
   ENVI_VEG_INDEX_AVAILABLE_INDICES
  </h1>
  <p>
   <a href="#Syntax">
    Syntax
   </a>
   |
   <a href="#Arguments">
    Arguments
   </a>
   |
   <a href="#Keywords">
    Keywords
   </a>
   |
   <a href="#Example">
    Example
   </a>
  </p>
  <p>
   This function returns the number of vegetation indices that can be calculated on an input data file. It can optionally return the names of these indices, a classification describing the purpose of the index, or, if no indices are available, a descriptive error specifying the reason why.
  </p>
  <h2 class="API">
   <a name="Syntax">
   </a>
   Syntax
  </h2>
  <p>
   <i>
    Result
   </i>
   = ENVI_VEG_INDEX_AVAILABLE_INDICES (
   <i>
    FID
   </i>
   [,
   <a href="#ERROR_STRING">
    ERROR_STRING
   </a>
   =
   <i>
    string
   </i>
   ] [,
   <a href="#VI_LIST">
    VI_LIST
   </a>
   =
   <i>
    array
   </i>
   ] [,
   <a href="#VI_NAMES">
    VI_NAMES
   </a>
   =
   <i>
    string
   </i>
   ] [,
   <a href="#VI_TYPE">
    VI_TYPE
   </a>
   =
   <i>
    array
   </i>
   ])
  </p>
  <h2 class="API">
   <a name="Arguments">
   </a>
   Arguments
  </h2>
  <h3>
   <a name="FID">
   </a>
   FID
  </h3>
  <p>
   Use this keyword to specify the file ID for the input file.
  </p>
  <h2 class="API">
   <a name="Keywords">
   </a>
   Keywords
  </h2>
  <h3>
   <a name="ERROR_STRING">
   </a>
   ERROR_STRING (optional)
  </h3>
  <p>
   Set this keyword to a named variable in which to return a descriptive error string describing the reason that no vegetation indices are available, if the return value of the function is 0. Otherwise, this keyword is undefined.
  </p>
  <h3>
   <a name="VI_LIST">
   </a>
   VI_LIST (optional)
  </h3>
  <p>
   Set this keyword to a named variable in which to return an array of long integers containing the numeric indices associated with each vegetation index available for calculation, if any. These indices can be used to specify the desired subset of indices for the
   <a href="ENVI_VEG_INDEX_DOIT.htm">
    ENVI_VEG_INDEX_DOIT
   </a>
   procedure to calculate. If the ENVI_VEG_INDEX_AVAILABLE_INDICES return value is 0, this keyword is undefined.
  </p>
  <h3>
   <a name="VI_NAMES">
   </a>
   VI_NAMES (optional)
  </h3>
  <p>
   Set this keyword to a named variable in which to return a string array containing the names of all
   <a href="../../../Vegetation Analysis/VegetationIndices.htm">
    vegetation indices
   </a>
   available for calculation, if any. If the ENVI_VEG_INDEX_AVAILABLE_INDICES return value is 0, this keyword is undefined.
  </p>
  <h3>
   <a name="VI_TYPE">
   </a>
   VI_TYPE (optional)
  </h3>
  <p>
   Set this keyword to a named variable in which to return a string containing the names of the categories for all
   <a href="../../../Vegetation Analysis/VegetationIndices.htm">
    vegetation indices
   </a>
   available for calculation. If the ENVI_VEG_INDEX_AVAILABLE_INDICES return value is 0, this keyword is undefined.
  </p>
  <h2 class="API">
   <a name="Example">
   </a>
   Example
  </h2>
  <p>
   The following example code shows how to calculate a subset of VIs.
  </p>
  <p class="Code">
   PRO EXAMPLE_VEG_INDEX_2
  </p>
  <p class="Code_Indented">
   compile_opt IDL2
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   ; This example calculates a subset of the available vegetation
  </p>
  <p class="Code_Indented">
   ; indices determined using both
  </p>
  <p class="Code_Indented">
   ; the ENVI_VEG_INDEX_AVAILABLE_INDICES procedure
  </p>
  <p class="Code_Indented">
   ; and the ENVI_VEG_INDEX_DOIT procedure
  </p>
  <p class="Code_Indented">
   ; First, restore all the base save files.
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   envi, /restore_base_save_files
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   ; Initialize ENVI and send all errors
  </p>
  <p class="Code_Indented">
   ; and warnings to the file batch.txt.
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   envi_batch_init, log_file='batch.txt'
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   ; Open the input file
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   envi_open_file, envi_pickfile(), r_fid=fid
  </p>
  <p class="Code_Indented">
   if (fid eq -1) then begin
  </p>
  <p class="Code_Indented">
   envi_batch_exit
  </p>
  <p class="Code_Indented">
   return
  </p>
  <p class="Code_Indented">
   endif
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   ; Find the list of available vegetation indices for this file.
  </p>
  <p class="Code_Indented">
   if (~ENVI_VEG_INDEX_AVAILABLE_INDICES(fid, vi_list=vi_list, $
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;vi_names=vi_names, vi_type=vi_type, $
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;error_string=error_string)) then begin
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;print, error_string
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;envi_batch_exit
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;return
  </p>
  <p class="Code_Indented">
   endif
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   ; Find the subset of indices for greenness to calculate.
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   vi_subset = where(vi_type eq 'Broadband Greenness', count)
  </p>
  <p class="Code_Indented">
   if (count eq 0) then begin
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;print, 'Error: No broadband greenness indices are available.'
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;envi_batch_exit
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;return
  </p>
  <p class="Code_Indented">
   endif
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   ; Calculate the greenness indices.
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   envi_doit, 'envi_veg_index_doit', fid=fid, in_memory=0, $
  </p>
  <p class="Code_Indented">
   &#160;&#160;&#160;out_name='veg_indices.dat', vi_list=vi_list[vi_subset]
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   ; Exit ENVI
  </p>
  <p class="Code_Indented">
   ;
  </p>
  <p class="Code_Indented">
   envi_batch_exit
  </p>
  <p class="Code">
   END
  </p>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>