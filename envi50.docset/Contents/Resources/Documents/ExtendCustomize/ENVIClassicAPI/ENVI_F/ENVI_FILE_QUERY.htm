<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Programming|Routines|Data Control|ENVI Classic" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   ENVI_FILE_QUERY
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#ExtendCustomize/ENVIClassicAPI/ENVI_F/ENVI_FILE_QUERY.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingWithENVI.htm">
    Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../Routines.htm">
    Routines
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../ENVICoordSys.htm">
    Data Control
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    ENVI_FILE_QUERY
   </span>
  </div>
  <h1>
   <a name="kanchor541">
   </a>
   ENVI_FILE_QUERY
  </h1>
  <p>
   <a href="#Syntax">
    Syntax
   </a>
   |
   <a href="#Arguments">
    Arguments
   </a>
   |
   <a href="#Keywords">
    Keywords
   </a>
   |
   <a href="#Example">
    Example
   </a>
  </p>
  <p>
   This routine has been replaced with the properties to
   <a href="../../enviRaster.htm">
    ENVIRaster
   </a>
   and
   <a href="../../ENVIRasterMetaData.htm">
    ENVIRasterMetadata
   </a>
   .
  </p>
  <p>
   This procedure returns information about a data file, including (but not limited to) number of samples, lines, and bands; spatial dimensions; filename; data type; and interleave.
  </p>
  <h2 class="API">
   <a name="Syntax">
   </a>
   Syntax
  </h2>
  <p>
   ENVI_FILE_QUERY,
   <i>
    FID
   </i>
   [,
   <a href="#BBL">
    BBL
   </a>
   =
   <i>
    array
   </i>
   ] [,
   <a href="#BNAMES">
    BNAMES
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#BYTE_SWAP">
    BYTE_SWAP
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#CLASS_NAMES">
    CLASS_NAMES
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DATA_GAINS">
    DATA_GAINS
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DATA_IGNORE_VALUE">
    DATA_IGNORE_VALUE
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DATA_OFFSETS">
    DATA_OFFSETS
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DATA_TYPE">
    DATA_TYPE
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DEF_BANDS">
    DEF_BANDS
   </a>
   =
   <i>
    array
   </i>
   ] [,
   <a href="#DEF_ZRANGE">
    DEF_ZRANGE
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DEF_STRETCH">
    DEF_STRETCH
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DESCRIP">
    DESCRIP
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DIMS">
    DIMS
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#FILE_TYPE">
    FILE_TYPE
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#FNAME">
    FNAME
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#FUNC_COMPLEX">
    FUNC_COMPLEX
   </a>
   ={0 | 1 | 2 | 3 | 4}] [,
   <a href="#FWHM">
    FWHM
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#H_INFO">
    H_INFO
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#INTERLEAVE">
    INTERLEAVE
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#LOOKUP">
    LOOKUP
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#LUT_NAME">
    LUT_NAME
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#NB">
    NB
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#NL">
    NL
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#NS">
    NS
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#NUM_CLASSES">
    NUM_CLASSES
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#OFFSET">
    OFFSET
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#READ_PROCEDURE">
    READ_PROCEDURE
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#REFLECTANCE_SCALE_FACTOR">
    REFLECTANCE_SCALE_FACTOR
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#SENSOR_TYPE">
    SENSOR_TYPE
   </a>
   =
   <i>
    integer
   </i>
   ] [,
   <a href="#SNAME">
    SNAME
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#SPEC_NAMES">
    SPEC_NAMES
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#STA_NAME">
    STA_NAME
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#WAVELENGTH_UNITS">
    WAVELENGTH_UNITS
   </a>
   ={0 | 1 | 2 | 3 | 4 | 5 | 6}] [,
   <a href="#WL">
    WL
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#XSTART">
    XSTART
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#YSTART">
    YSTART
   </a>
   =
   <i>
    variable
   </i>
   ]
  </p>
  <h2 class="API">
   <a name="Arguments">
   </a>
   Arguments
  </h2>
  <h3>
   FID
  </h3>
  <p>
   This positional parameter is returned from the keyword R_FID in the
   <a href="../ENVI_O/ENVI_OPEN_FILE.htm">
    ENVI_OPEN_FILE
   </a>
   procedure. FID is a long integer with a value greater than 0. An invalid file ID has a value of -1.
  </p>
  <h2 class="API">
   <a name="Keywords">
   </a>
   Keywords
  </h2>
  <h3>
   <a name="BBL">
   </a>
   BBL (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable containing an array of ones and zeros representing the good and bad bands, respectively. The number of elements in BBL must be equal to the number of bands in the image. If no list of bad bands is available, BBL returns a value of -1.
  </p>
  <h3>
   <a name="BNAMES">
   </a>
   BNAMES (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the band names associated with each band.
  </p>
  <h3>
   <a name="BYTE_SWAP">
   </a>
   BYTE_SWAP (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the byte swap value for the data. If you set BYTE_SWAP, then the byte order of the data specified by FID is different than the current processor. User-specified spatial and spectral read procedures will need to byte order the data after reading from disk.
  </p>
  <h3>
   <a name="CLASS_NAMES">
   </a>
   CLASS_NAMES (optional)
  </h3>
  <p>
   Use this keyword to specify a string array of class names for classification images. The first element (Class 0) is “Unclassified.” Only use CLASS_NAMES if the result is a classification image, in which case this keyword is required. If the result is not a classification image, this keyword is optional.
  </p>
  <h3>
   <a name="DATA_GAINS">
   </a>
   DATA_GAINS (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains an array of gain values for each band in the dataset. DATA_GAINS is an array of values, one for each band. You can use DATA_GAINS in conjunction with DATA_OFFSETS in
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   's general purpose utility, Apply Gain and Offset. If the gains are undefined for the input file, nothing is returned for the DATA_GAINS keyword.
  </p>
  <h3>
   <a name="DATA_IGNORE_VALUE">
   </a>
   DATA_IGNORE_VALUE
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a scalar number representing the data value to ignore in the dataset. If you set DATA_IGNORE_VALUE, it is the same type as the input dataset, and an undefined ignore value is represented by the double-precision number 1e-34. Currently, this value is used only in user-written
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   code. If the data ignore value is undefined for the input file, DATA_IGNORE_VALUE returns nothing.
  </p>
  <h3>
   <a name="DATA_OFFSETS">
   </a>
   DATA_OFFSETS (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains an array of offsets for each band in the dataset. You can use DATA_OFFSETS in conjunction with DATA_GAINS in
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   's general purpose utility, Apply Gain and Offset. If the offsets are undefined for the input file, DATA_IGNORE_VALUE returns nothing.
  </p>
  <h3>
   <a name="DATA_TYPE">
   </a>
   DATA_TYPE (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the IDL data type of the file, using the following IDL convention.
  </p>
  <ul>
   <li value="1">
    1: Byte (8 bits)
   </li>
   <li value="2">
    2: Integer (16 bits)
   </li>
   <li value="3">
    3: Long integer (32 bits)
   </li>
   <li value="4">
    4: Floating-point (32 bits)
   </li>
   <li value="5">
    5: Double-precision floating-point (64 bits)
   </li>
   <li value="6">
    6: Complex (2x32 bits)
   </li>
   <li value="7">
    9: Double-precision complex (2x64 bits)
   </li>
   <li value="8">
    12: Unsigned integer (16 bits)
   </li>
   <li value="9">
    13: Unsigned long integer (32 bits)
   </li>
   <li value="10">
    14: Long 64-bit integer
   </li>
   <li value="11">
    15: Unsigned long 64-bit integer
   </li>
  </ul>
  <h3>
   <a name="DEF_BANDS">
   </a>
   DEF_BANDS (optional)
  </h3>
  <p>
   Set this keyword to a one- or three-element array specifying which bands to display upon opening the file in
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   . If you set DEF_BANDS to a one-element array,
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   loads a grayscale image in the display group. If you set DEF_BANDS to a three-element array,
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   loads an RGB image in the display group. The values are one-based. For example, to load bands 4, 3, and 2 of a 7-band image, set DEF_BANDS to [4, 3, 2].
  </p>
  <h3>
   <a name="DEF_ZRANGE">
   </a>
   DEF_ZRANGE (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a 2D array equal to the default lower and upper plot ranges in spectral plots.
  </p>
  <h3>
   <a name="DEF_STRETCH">
   </a>
   DEF_STRETCH (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the default stretch, which is used when displaying a band from the file. DEF_STRETCH is the structure created by
   <a href="../ENVI_D/ENVI_DEFAULT_STRETCH_CREATE.htm">
    ENVI_DEFAULT_STRETCH_CREATE
   </a>
   .
  </p>
  <h3>
   <a name="DESCRIP">
   </a>
   DESCRIP (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a string description of the file.
  </p>
  <h3>
   <a name="DIMS">
   </a>
   DIMS (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the spatial dimensions of the file.
  </p>
  <h3>
   <a name="FILE_TYPE">
   </a>
   FILE_TYPE (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains an integer file-type value. See
   <a href="ENVI_FILE_TYPE.htm">
    ENVI_FILE_TYPE
   </a>
   for details on how to test for a given file type.
  </p>
  <h3>
   <a name="FNAME">
   </a>
   FNAME (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the name and path of the file. For memory items, FNAME contains a string indicating the memory item number and its associated spatial and spectral dimensions.
  </p>
  <h3>
   <a name="FUNC_COMPLEX">
   </a>
   FUNC_COMPLEX (optional)
  </h3>
  <p>
   Set this keyword to one of the following values to specify the complex lookup function that determines how to display complex data.
  </p>
  <ul>
   <li value="1">
    0: Power (default): The natural log of the magnitude
   </li>
   <li value="2">
    1: Magnitude:
   </li>
   <li value="3">
    2: Real: The real portion of the complex number
   </li>
   <li value="4">
    3: Imaginary: The imaginary part of the complex number
   </li>
   <li value="5">
    4: Phase:
   </li>
  </ul>
  <p>
   Only set this keyword if the IDL data type of the image is complex or double-precision complex.
  </p>
  <h3>
   <a name="FWHM">
   </a>
   FWHM (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains an array of FWHM values, one for each band. If there is no FWHM associated with the file, then a value of -1 is returned.
  </p>
  <h3>
   <a name="H_INFO">
   </a>
   H_INFO (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a handle pointer to user-defined header information. Use the procedure
   <a href="../H/HANDLE_VALUE.htm">
    HANDLE_VALUE
   </a>
   to retrieve the information. The value of the handle is set equal to the INFO keyword in
   <a href="../ENVI_S/ENVI_SETUP_HEAD.htm">
    ENVI_SETUP_HEAD
   </a>
   or
   <a href="../ENVI_E/ENVI_ENTER_DATA.htm">
    ENVI_ENTER_DATA
   </a>
   .
  </p>
  <h3>
   <a name="INTERLEAVE">
   </a>
   INTERLEAVE (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the file interleave type. The following integer values specify the interleave output:
  </p>
  <ul>
   <li value="1">
    0: BSQ
   </li>
   <li value="2">
    1: BIL
   </li>
   <li value="3">
    2: BIP
   </li>
  </ul>
  <h3>
   <a name="LOOKUP">
   </a>
   LOOKUP (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the RGB lookup values for each class in a classification image. The returned result is a byte array [3,
   <i>
    num_classes
   </i>
   ]. LOOKUP is only set when the queried file is an
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   classification file. Otherwise, the keyword returns a value of -1.
  </p>
  <h3>
   <a name="LUT_NAME">
   </a>
   LUT_NAME (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the filename of the lookup table for the data.
  </p>
  <h3>
   <a name="NB">
   </a>
   NB (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the number of bands in the file.
  </p>
  <h3>
   <a name="NL">
   </a>
   NL (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the number of lines in the file.
  </p>
  <h3>
   <a name="NS">
   </a>
   NS (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the number of samples in the file.
  </p>
  <h3>
   <a name="NUM_CLASSES">
   </a>
   NUM_CLASSES (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the number of classes for classification images. NUM_CLASSES is only set when the queried file is an
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   classification file. Otherwise, the keyword returns a value of 0.
  </p>
  <h3>
   <a name="OFFSET">
   </a>
   OFFSET (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the offset in bytes to the start of the data in the file.
  </p>
  <h3>
   <a name="READ_PROCEDURE">
   </a>
   READ_PROCEDURE (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a two-element string array of the procedure names for the spatial and spectral readers, respectively. The
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   read procedures provide a powerful mechanism for importing custom formats or files directly into
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   without the need for conversion. All spatial or spectral requests for data go through the specified read procedures.
  </p>
  <h3>
   <a name="REFLECTANCE_SCALE_FACTOR">
   </a>
   REFLECTANCE_SCALE_FACTOR (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a single scalar number used to convert the input data into reflectance. For example, REFLECTANCE_SCALE_FACTOR would be used to convert integer scaled reflectance data into their floating point [0, 1] reflectance values. If the scale factor is undefined for the input file, nothing is returned for the this keyword.
  </p>
  <h3>
   <a name="SENSOR_TYPE">
   </a>
   SENSOR_TYPE (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the integer sensor type value. See
   <a href="../ENVI_S/ENVI_SENSOR_TYPE.htm">
    ENVI_SENSOR_TYPE
   </a>
   for details on how to test for a given sensor type.
  </p>
  <h3>
   <a name="SNAME">
   </a>
   SNAME (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the shortened filename (without the path). For memory items, SNAME contains an empty string.
  </p>
  <h3>
   <a name="SPEC_NAMES">
   </a>
   SPEC_NAMES (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a string array of spectral library names. SPEC_NAMES is only set when the queried file is a spectral library.
  </p>
  <h3>
   <a name="STA_NAME">
   </a>
   STA_NAME (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the statistics file name. If no filename is specified, the STA_NAME is equal to the empty string, ‘’.
  </p>
  <h3>
   <a name="WAVELENGTH_UNITS">
   </a>
   WAVELENGTH_UNITS (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains a value indicating the wavelength units. The following values are valid:
  </p>
  <ul>
   <li value="1">
    0: Micrometers
   </li>
   <li value="2">
    1: Nanometers
   </li>
   <li value="3">
    2: Wavenumber
   </li>
   <li value="4">
    3: GHz
   </li>
   <li value="5">
    4: MHz
   </li>
   <li value="6">
    5: Index
   </li>
   <li value="7">
    6: Unknown
   </li>
  </ul>
  <h3>
   <a name="WL">
   </a>
   WL (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains an array of wavelength values, one for each band. If there is no wavelength associated with the file, then a value of -1 is returned.
  </p>
  <h3>
   <a name="XSTART">
   </a>
   XSTART (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the x starting sample for the first pixel in the file.
  </p>
  <h3>
   <a name="YSTART">
   </a>
   YSTART (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the y starting row for the first pixel in the file.
  </p>
  <h2 class="API">
   <a name="Example">
   </a>
   Example
  </h2>
  <p>
   This example prompts the user for a file using ENVI_SELECT. Next, use ENVI_FILE_QUERY to retrieve the file information for the number of samples, lines and bands, spatial dimensions, the filename, data type, and interleave. Print the results to the screen.
  </p>
  <p class="Code">
   ENVI_SELECT, fid=fid
  </p>
  <p class="Code">
   ENVI_FILE_QUERY, fid, dims=dims, nb=nb, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;fname=fname, data_type=data_type, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;interleave=interleave
  </p>
  <p class="Code">
   print, 'Filename = ', fname
  </p>
  <p class="Code">
   print, 'dims = ', dims
  </p>
  <p class="Code">
   print, 'nb = ', nb
  </p>
  <p class="Code">
   print, 'interleave = ', interleave
  </p>
  <p class="Code">
   print, 'data type = ', data_type
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>