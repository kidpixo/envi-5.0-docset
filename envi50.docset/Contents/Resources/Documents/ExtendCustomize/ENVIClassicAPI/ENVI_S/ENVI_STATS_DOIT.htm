<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Programming|Routines|Processing" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   ENVI_STATS_DOIT
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#ExtendCustomize/ENVIClassicAPI/ENVI_S/ENVI_STATS_DOIT.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingWithENVI.htm">
    Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../Routines.htm">
    Routines
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../A/ADAPT_FILT_DOIT.htm">
    Processing
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    ENVI_STATS_DOIT
   </span>
  </div>
  <h1>
   <a name="kanchor730">
   </a>
   ENVI_STATS_DOIT
  </h1>
  <p>
   Use ENVI_STATS_DOIT to calculate statistics of a data file and optionally display the results or write the results to a file. The calculated statistics include covariance, data maximum, data minimum, eigenvalues, eigenvectors, histograms, mean, and standard deviation.
  </p>
  <h2 class="API">
   <a name="Syntax">
   </a>
   Syntax
  </h2>
  <p>
   ENVI_DOIT, 'ENVI_STATS_DOIT',
   <a href="#CANCEL">
    CANCEL
   </a>
   =
   <i>
    variable
   </i>
   ,
   <a href="#COMP_FLAG">
    COMP_FLAG
   </a>
   ={0 | 1 | 2} [,
   <a href="#COV">
    COV
   </a>
   =
   <i>
    variable
   </i>
   ],
   <a href="#DIMS">
    DIMS
   </a>
   =
   <i>
    array
   </i>
   [,
   <a href="#DMAX">
    DMAX
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#DMIN">
    DMIN
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#EVAL">
    EVAL
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#EVEC">
    EVEC
   </a>
   =
   <i>
    variable
   </i>
   ],
   <a href="#FID">
    FID
   </a>
   =
   <i>
    file ID
   </i>
   [,
   <a href="#HIST">
    HIST
   </a>
   =
   <i>
    variable
   </i>
   ] [, /
   <a href="#INTERRUPT">
    INTERRUPT
   </a>
   ],
   <a href="#M_FID">
    M_FID
   </a>
   =
   <i>
    file ID
   </i>
   ,
   <a href="#M_POS">
    M_POS
   </a>
   =
   <i>
    long integer
   </i>
   [,
   <a href="#MEAN">
    MEAN
   </a>
   =
   <i>
    variable
   </i>
   ] [, /
   <a href="#OUTPUT_IMAGE">
    OUTPUT_IMAGE
   </a>
   ],
   <a href="#POS">
    POS
   </a>
   =
   <i>
    array
   </i>
   [,
   <a href="#PREC">
    PREC
   </a>
   =
   <i>
    array
   </i>
   ] [,
   <a href="#R">
    R_FID
   </a>
   =
   <i>
    variable
   </i>
   ] [,
   <a href="#REP_NAME">
    REP_NAME
   </a>
   =
   <i>
    string
   </i>
   ] [,
   <a href="#REPORT_FLAG">
    REPORT_FLAG
   </a>
   ={0 | 1 | 2}] [,
   <a href="#STA_NAME">
    STA_NAME
   </a>
   =
   <i>
    string
   </i>
   ] [,
   <a href="#STDV">
    STDV
   </a>
   =
   <i>
    variable
   </i>
   ] [, /
   <a href="#TO_SCREEN">
    TO_SCREEN
   </a>
   ] [,
   <a href="#XFAC">
    XFAC
   </a>
   =
   <i>
    floating point
   </i>
   ] [,
   <a href="#YFAC">
    YFAC
   </a>
   =
   <i>
    floating point
   </i>
   ]
  </p>
  <h2 class="API">
   <a name="Keywords">
   </a>
   Keywords
  </h2>
  <h3>
   <a name="CANCEL">
   </a>
   CANCEL
  </h3>
  <p>
   Use this keyword to specify a named variable that returns the status of the
   <b>
    Cancel
   </b>
   button. A returned value of 1 indicates the
   <b>
    Cancel
   </b>
   button was pressed. A value of 0 is returned otherwise.
  </p>
  <h3>
   <a name="COMP_FLAG">
   </a>
   COMP_FLAG
  </h3>
  <p>
   Set this keyword equal to a bit value indicating the computations to perform. The bit values are combined with an OR logical operator to perform the requested calculations. The first bit is ignored. You must set additional bits to calculate histograms and to calculate convariance, eigenvalues, and eigenvectors. The definition of the bits used in COMP_FLAG are as follows:
  </p>
  <ul>
   <li value="1">
    Bit 0 (COMP_FLAG=1): Enables the calculation of maximum, minimum, mean, and standard deviation
   </li>
   <li value="2">
    Bit 1 (COMP_FLAG=2): Enables the calculation of histograms
   </li>
   <li value="3">
    Bit 2 (COMP_FLAG=4): Enables the calculation of covariance, eigenvalues, and eigenvectors
   </li>
   <li value="4">
    Bit 3 to 15: Not used
   </li>
  </ul>
  <p>
   If you only want maximum, minimum, mean, and standard deviation, then you should set COMP_FLAG to 1. Otherwise, set COMP_FLAG based on your preference to compute histograms (bit 1) or covariance, eigenvalues, and eigenvectors (bit 2). For example, to calculate all the available statistics (maximum, minimum, mean, standard deviation, histograms, covariance, eigenvalues, and eigenvectors), set COMP_FLAG=7.
  </p>
  <h3>
   <a name="COV">
   </a>
   COV (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the returned covariance matrix. You must set bit 2 in COMP_FLAG (i.e., COMP_FLAG=4) to generate the covariance matrix.
  </p>
  <h3>
   <a name="DIMS">
   </a>
   DIMS
  </h3>
  <p>
   The “dimensions” keyword is a five-element array of long integers that defines the spatial subset (of a file or array) to use for processing. Nearly every time you specify the keyword FID, you must also specify the spatial subset of the corresponding file (even if the entire file, with no spatial subsetting, is to be processed).
  </p>
  <ul>
   <li value="1">
    DIMS[0]: A pointer to an open ROI; use only in cases where ROIs define the spatial subset. Otherwise, set to -1L.
   </li>
   <li value="2">
    DIMS[1]: The starting sample number. The first x pixel is 0.
   </li>
   <li value="3">
    DIMS[2]: The ending sample number
   </li>
   <li value="4">
    DIMS[3]: The starting line number. The first y pixel is 0.
   </li>
   <li value="5">
    DIMS[4]: The ending line number
   </li>
  </ul>
  <p>
   To process an entire file (with no spatial subsetting), define DIMS as shown in the following code example. This example assumes you have already opened a file using
   <a href="ENVI_SELECT.htm">
    ENVI_SELECT
   </a>
   or
   <a href="../ENVI_P/ENVI_PICKFILE.htm">
    ENVI_PICKFILE
   </a>
   :
  </p>
  <p class="Code_Indented">
   envi_file_query, fid, dims=dims
  </p>
  <p>
   You
   <i>
    cannot
   </i>
   define DIMS as a pointer to a region of interest (ROI) in any of
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   ’s _DOIT library routines. Using the following example code with a _DOIT library routine will result in an error message when you run the program:
  </p>
  <p class="Code_Indented">
   roi_ids = ENVI_GET_ROI_IDS()
  </p>
  <p class="Code_Indented">
   <br />
   roi_dims = ENVI_GET_ROI_DIMS_PTR(roi_ids[0])
  </p>
  <p class="Code_Indented">
   <br />
   dims= [roi_dims,0,0,0,0]
  </p>
  <h3>
   <a name="DMAX">
   </a>
   DMAX (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data maximums, one for each band position.
  </p>
  <h3>
   <a name="DMIN">
   </a>
   DMIN (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data minimums, one for each band position.
  </p>
  <h3>
   <a name="EVAL">
   </a>
   EVAL (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the eigenvalues. You must set bit 2 in COMP_FLAG (i.e., COMP_FLAG=4) to generate the eigenvalues.
  </p>
  <h3>
   <a name="EVEC">
   </a>
   EVEC (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the eigenvector. You must set bit 2 in COMP_FLAG (i.e., COMP_FLAG=4) to generate the eigenvectors.
  </p>
  <h3>
   <a name="FID">
   </a>
   FID
  </h3>
  <p>
   The file ID (FID) is a long-integer scalar with a value greater than 0. An invalid FID has a value of -1. The FID is provided as a named variable by any routine used to open or select a file. Often, the FID is returned from the keyword R_FID in the
   <a href="../../ENVIRasterToFID.htm">
    ENVIRasterToFID
   </a>
   routine. Files are processed by referring to their FIDs. If you work directly with the file in IDL, the FID is
   <i>
    not
   </i>
   equivalent to a logical unit number (LUN).
  </p>
  <h3>
   <a name="HIST">
   </a>
   HIST (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the histogram array. You must set bit 1 in COMP_FLAG (i.e., COMP_FLAG=2) to generate the histogram output.
  </p>
  <h3>
   <a name="INTERRUPT">
   </a>
   INTERRUPT (optional)
  </h3>
  <p>
   Set this keyword to allow processing interrupts using the
   <b>
    Cancel
   </b>
   button.
  </p>
  <h3>
   <a name="M_FID">
   </a>
   M_FID
  </h3>
  <p>
   Use this keyword to specify the file ID of the mask file. This value is returned from the keyword R_FID in the
   <a href="../ENVI_O/ENVI_OPEN_FILE.htm">
    ENVI_OPEN_FILE
   </a>
   procedure. M_FID is a long integer with a value greater than 0. An invalid file ID has a value of -1.
  </p>
  <h3>
   <a name="M_POS">
   </a>
   M_POS
  </h3>
  <p>
   Use this keyword to specify the band position of the mask band. M_POS is a long integer with a value greater than or equal to 0.
  </p>
  <h3>
   <a name="MEAN">
   </a>
   MEAN (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data means, one for each band position.
  </p>
  <h3>
   <a name="OUTPUT_IMAGE">
   </a>
   OUTPUT_IMAGE (optional)
  </h3>
  <p>
   Set this keyword to save the covariance matrix, correlation matrix, and eigenvectors to an image. The R_FID keyword can be used to access the file ID of the resulting image.
  </p>
  <p>
   You must calculate covariance (COMP_FLAG=4 or greater) to generate this output image. If you do not set COMP_FLAG keyword to 4 or greater, the OUTPUT_IMAGE keyword is ignored.
  </p>
  <h3>
   <a name="POS">
   </a>
   POS
  </h3>
  <p>
   Use this keyword to specify an array of band positions, indicating the band numbers on which to perform the operation. This keyword indicates the spectral subset of bands to use in processing. POS is an array of long integers, ranging from 0 to the number of bands minus 1. Specify bands starting with zero (Band 1=0, Band 2=1, etc.) For example, to process only Bands 3 and 4 of a multi-band file, POS=[2, 3].
  </p>
  <p>
   POS is typically used with individual files. The example code below for
   <a href="#">
    ENVI_STATS_DOIT
   </a>
   illustrates the use of POS for a single file with four bands of data:
  </p>
  <p class="Code_Indented">
   pos=[0,1,2,3]
  </p>
  <p class="Code_Indented">
   <br />
   envi_doit, 'envi_stats_doit', dims=dims, fid=fid, pos=pos, $
  </p>
  <p class="Code_Indented">
   <br />
   comp_flag=3, dmin=dmin, dmax=dmax, mean=mean, stdv=stdv, hist=hist
  </p>
  <p>
   But what if you need to create an output file consisting of data from different bands, each from different files? Library routines such as
   <a href="../C/CF_DOIT.htm">
    CF_DOIT
   </a>
   and
   <a href="../ENVI_L/ENVI_LAYER_STACKING_DOIT.htm">
    ENVI_LAYER_STACKING_DOIT
   </a>
   can accomplish this, but they use the POS keyword differently. Suppose you have four files,
   <code>
    test1
   </code>
   ,
   <code>
    test2
   </code>
   ,
   <code>
    test3
   </code>
   , and
   <code>
    test4
   </code>
   , with corresponding FIDs of
   <code>
    fid1
   </code>
   ,
   <code>
    fid2
   </code>
   ,
   <code>
    fid3
   </code>
   , and
   <code>
    fid4
   </code>
   , respectively. In the following example, you want Band 3 from
   <code>
    test1
   </code>
   in the first position, Band 2 from
   <code>
    test2
   </code>
   in the second position, Band 6 from
   <code>
    test3
   </code>
   in the third position, and Band 4 from
   <code>
    test4
   </code>
   in the fourth position. The code should be as follows:
  </p>
  <p class="Code_Indented">
   fid_array = [fid1,fid2,fid3,fid4]
  </p>
  <p class="Code_Indented">
   <br />
   pos=[2,1,5,3]
  </p>
  <p class="Code_Indented">
   <br />
   envi_doit, 'cf_doit', dims=dims, fid=fid_array
  </p>
  <p class="Code_Indented">
   <br />
   out_name='test_composite_file'
  </p>
  <h3>
   <a name="PREC">
   </a>
   PREC (optional)
  </h3>
  <p>
   Use this keyword to specify the format for numbers printed in statistics reports. PREC is a two-element array of long integers with the following definitions:
  </p>
  <ul>
   <li value="1">
    PREC[0]: Set to the desired number of digits to be printed after the decimal point.
   </li>
   <li value="2">
    PREC[1]: Set to 0 to specify fixed-point notation or 1 to specify scientific (exponential) notation.
   </li>
  </ul>
  <h3>
   <a name="R">
   </a>
   R_FID (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that holds the file ID for the output image containing the covariance matrix, correlation matrix, and eigenvectors. The proper bit must be set in COMP_FLAG in order to save this image.
  </p>
  <h3>
   <a name="REP_NAME">
   </a>
   REP_NAME (optional)
  </h3>
  <p>
   Use this keyword to specify the output report filename.
  </p>
  <h3>
   <a name="REPORT_FLAG">
   </a>
   REPORT_FLAG (optional)
  </h3>
  <p>
   Set this keyword to a bit value indicating the type of output reports desired. Combine the bit values with an AND logical operator to get the desired reports.
  </p>
  <ul>
   <li value="1">
    Bit 0 (REPORT_FLAG=1): Basic statistics
   </li>
   <li value="2">
    Bit 1 (REPORT_FLAG=2): Generate histogram report (default)
   </li>
   <li value="3">
    Bit 2 (REPORT_FLAG=4): Generate covariance report
   </li>
   <li value="4">
    Bits 3 to 15: Not used
   </li>
  </ul>
  <p>
   If REPORT_FLAG=0, no output report is generated.
  </p>
  <h3>
   <a name="STA_NAME">
   </a>
   STA_NAME (optional)
  </h3>
  <p>
   Use this keyword to specify the filename for the output statistics. You can view these files using the
   <a href="../../../ExploreImagery/Statistics.htm#Open">
    View Statistics File
   </a>
   tool.
  </p>
  <h3>
   <a name="STDV">
   </a>
   STDV (optional)
  </h3>
  <p>
   Use this keyword to specify a named variable that contains the array of data standard deviations, one for each band position.
  </p>
  <h3>
   <a name="TO_SCREEN">
   </a>
   TO_SCREEN (optional)
  </h3>
  <p>
   Set this keyword to print the report to the screen. This report presents all of the plot and text information in a single dialog on the screen.
  </p>
  <h3>
   <a name="XFAC">
   </a>
   XFAC (optional)
  </h3>
  <p>
   Use this keyword to specify a x skip factor for computing statistics. XFAC is a floating-point value greater than or equal to 1.0 (default). For example, to compute statistics using every 10th pixel, set XFAC=10.0.
  </p>
  <h3>
   <a name="YFAC">
   </a>
   YFAC (optional)
  </h3>
  <p>
   Use this keyword to specify a y skip factor for computing statistics. YFAC is a floating-point value greater than or equal to 1.0 (default). For example, to compute statistics using every 10th pixel, set YFAC=10.0.
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>