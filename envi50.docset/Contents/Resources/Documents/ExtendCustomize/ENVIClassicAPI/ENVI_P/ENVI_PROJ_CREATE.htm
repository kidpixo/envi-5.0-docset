<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Programming|Routines|Data Control|ENVI Classic" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   ENVI_PROJ_CREATE
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#ExtendCustomize/ENVIClassicAPI/ENVI_P/ENVI_PROJ_CREATE.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingWithENVI.htm">
    Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../Routines.htm">
    Routines
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../ENVICoordSys.htm">
    Data Control
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    ENVI_PROJ_CREATE
   </span>
  </div>
  <h1>
   <a name="kanchor566">
   </a>
   ENVI_PROJ_CREATE
  </h1>
  <p>
   <a href="#Syntax">
    Syntax
   </a>
   |
   <a href="#Keywords">
    Keywords
   </a>
   |
   <a href="#Example">
    Example
   </a>
  </p>
  <p class="HighlightText">
   This routine has been replaced with the
   <a href="../../ENVI__CreateRasterSpatialRef.htm">
    CreateRasterSpatialRef
   </a>
   method to ENVI. Also see the
   <a href="../../ENVIRaster__WriteMetadata.htm">
    WriteMetaData
   </a>
   method to ENVIRaster, and the SPATIALREF_OVERRIDE keyword in various methods.
  </p>
  <p>
   Use this function to create an
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   projection structure for any of the supported projections. See
   <a href="../../../GeorectifyImagery/BackgroundCoordinateSystems.htm">
    Coordinate Systems Background
   </a>
   . You should use this function instead of accessing the projection structure directly.
  </p>
  <h2 class="API">
   <a name="Syntax">
   </a>
   Syntax
  </h2>
  <p>
   Result = ENVI_PROJ_CREATE([, /
   <a href="#ARBITRARY">
    ARBITRARY
   </a>
   ] [,
   <a href="#DATUM">
    DATUM
   </a>
   =
   <i>
    value
   </i>
   ] [, /
   <a href="#GEOGRAPHIC">
    GEOGRAPHIC
   </a>
   ] [, /
   <a href="#MAP_BASED">
    MAP_BASED
   </a>
   ] [,
   <a href="#NAME">
    NAME
   </a>
   =
   <i>
    string
   </i>
   ] [,
   <a href="#PARAMS">
    PARAMS
   </a>
   =
   <i>
    array
   </i>
   ] [,
   <a href="#PE_COORD_SYS_CODE">
    PE_COORD_SYS_CODE
   </a>
   =
   <i>
    integer
   </i>
   ] [,
   <a href="#PE_COORD_SYS_STR">
    PE_COORD_SYS_STR
   </a>
   =
   <i>
    string
   </i>
   ] [, /
   <a href="#SOUTH">
    SOUTH
   </a>
   ] [, /
   <a href="#STATE_PLANE">
    STATE_PLANE
   </a>
   ] [,
   <a href="#TYPE">
    TYPE
   </a>
   =
   <i>
    integer
   </i>
   ] [,
   <a href="#UNITS">
    UNITS
   </a>
   =
   <i>
    integer
   </i>
   ] [, /
   <a href="#UTM">
    UTM
   </a>
   ] [,
   <a href="#ZONE">
    ZONE
   </a>
   =
   <i>
    integer
   </i>
   ])
  </p>
  <h2 class="API">
   <a name="Keywords">
   </a>
   Keywords
  </h2>
  <h3>
   <a name="ARBITRARY">
   </a>
   ARBITRARY (optional)
  </h3>
  <p>
   Set this keyword to create an Arbitrary projection. See the keyword MAP_BASED below.
  </p>
  <h3>
   <a name="DATUM">
   </a>
   DATUM
  </h3>
  <p>
   Use this keyword to specify the datum for the map information projection. The default for a Geographic projection is WGS-84, and the default for UTM and State Plane projections is North America 1927 (NAD27). All other projections default to no datum. The exact name that
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   uses for each datum is listed in the
   <code>
    datum.txt
   </code>
   file in the
   <code>
    map_proj
   </code>
   directory of your
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   installation.
  </p>
  <h3>
   <a name="GEOGRAPHIC">
   </a>
   GEOGRAPHIC (optional)
  </h3>
  <p>
   Set this keyword to create a Geographic projection.
  </p>
  <h3>
   <a name="MAP_BASED">
   </a>
   MAP_BASED (optional)
  </h3>
  <p>
   Set this keyword to interpret the Arbitrary projection as map-based. This keyword does not have any effect for other projections. The default is a non-map based projection. A map-based projection uses the lower-left corner of the image as the projection origin, while a pixel-based projection (non-map based) uses the upper-left corner as the origin.
  </p>
  <h3>
   <a name="NAME">
   </a>
   NAME
  </h3>
  <p>
   Use this keyword to specify a name for the projection. NAME is a string variable. The actual projection type is not determined by the value of NAME. Instead, the projection type is determined by the keyword TYPE, ARBITRARY, GEOGRAPHIC, STATE_PLANE, or UTM.
  </p>
  <h3>
   <a name="PARAMS">
   </a>
   PARAMS (optional)
  </h3>
  <p>
   Use this keyword to specify the parameters for the map information projection. PARAMS is a array of double-precision values with 1 to 15 elements. The number of elements is determined by the projection type (see the TYPE keyword). Do not use PARAMS with Arbitrary, Geographic, State Plane, or UTM projections. See
   <a href="../../../GeorectifyImagery/BackgroundCoordinateSystems.htm">
    Coordinate Systems Background
   </a>
   for more information. The PARAMS keyword must contain all projection parameters listed in Map Projections (for the specified projection) except the datum and name. The datum and name are specified using the DATUM and NAME keywords, respectively.
  </p>
  <h3>
   <a name="PE_COORD_SYS_CODE">
   </a>
   PE_COORD_SYS_CODE (optional)
  </h3>
  <p>
   Use this keyword to pass in a valid geographic (GEOGCS) or projected (PROJCS) coordinate system
   <b>
    code
   </b>
   , typically a five-digit number.
  </p>
  <p>
   For a full list of coordinate system strings and codes, refer to the following text files in the
   <code>
    \IDL
    <i>
     xx
    </i>
    \resource\pedata\predefined
   </code>
   directory of the
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   distribution:
  </p>
  <ul>
   <li value="1">
    <code>
     EnviPEProjcsStrings.txt
    </code>
    : PROJCS codes and strings
   </li>
   <li value="2">
    <code>
     EnviPeGeogcs.txt
    </code>
    : GEOGCS codes and strings
   </li>
  </ul>
  <p>
   Set the TYPE keyword to 1 when passing in a GEOGCS code, or set TYPE to 42 when passing in a PROJCS code.
  </p>
  <h3>
   <a name="PE_COORD_SYS_STR">
   </a>
   PE_COORD_SYS_STR (optional)
  </h3>
  <p>
   Use this keyword to pass in a a geographic (GEOGCS) or projected (PROJCS) coordinate system
   <b>
    string
   </b>
   .
  </p>
  <p>
   For a full list of coordinate system strings and codes, refer to the following text files in the
   <code>
    \IDL
    <i>
     xx
    </i>
    \resource\pedata\predefined
   </code>
   directory of the
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   distribution:
  </p>
  <ul>
   <li value="1">
    <code>
     EnviPEProjcsStrings.txt
    </code>
    : PROJCS codes and strings
   </li>
   <li value="2">
    <code>
     EnviPeGeogcs.txt
    </code>
    : GEOGCS codes and strings
   </li>
  </ul>
  <p>
   Set the TYPE keyword to 1 when passing in a GEOGCS string, or set TYPE to 42 when passing in a PROJCS string. See Example.
  </p>
  <h3>
   <a name="SOUTH">
   </a>
   SOUTH (optional)
  </h3>
  <p>
   Set this keyword to specify that the UTM projection is in the southern hemisphere.
  </p>
  <h3>
   <a name="STATE_PLANE">
   </a>
   STATE_PLANE (optional)
  </h3>
  <p>
   Set this keyword to create a State Plane projection.
  </p>
  <h3>
   <a name="TYPE">
   </a>
   TYPE (optional)
  </h3>
  <p>
   Use this keyword to specify the projection type. TYPE is an integer value corresponding to the projection type. See
   <a href="../../../GeorectifyImagery/BackgroundCoordinateSystems.htm#Coordina">
    Coordinate System Strings
   </a>
   for more information.
  </p>
  <h3>
   <a name="UNITS">
   </a>
   UNITS (optional)
  </h3>
  <p>
   Use this optional integer keyword to specify the projection units. The function
   <a href="../ENVI_T/ENVI_TRANSLATE_PROJECTION_UNITS.htm">
    ENVI_TRANSLATE_PROJECTION_UNITS
   </a>
   converts projection unit strings to integer values. The default units are degrees for Geographic, feet for State Plane, and meters for all other projections.
  </p>
  <h3>
   <a name="UTM">
   </a>
   UTM (optional)
  </h3>
  <p>
   Set this keyword to create a UTM projection.
  </p>
  <h3>
   <a name="ZONE">
   </a>
   ZONE (optional)
  </h3>
  <p>
   Use this keyword only with UTM and State Plane projections to specify the zone number.
  </p>
  <h2 class="API">
   <a name="Example">
   </a>
   Example
  </h2>
  <p>
   The following example creates a Geographic projection with default values for the datum (WGS-84), name (Geographic), and units (degrees). This is one of the simplest uses of ENVI_PROJ_CREATE.
  </p>
  <pre xml:space="preserve">
   proj = ENVI_PROJ_CREATE(/geographic)
  </pre>
  <p>
   The following example creates a UTM projection for Zone 23 South using the North America 1983 datum. The projection units are in kilometers.
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   ; First convert kilometers to an integer representation
  </p>
  <p class="Code">
   ; and set 
the datum.
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   units = ENVI_TRANSLATE_PROJECTION_UNITS('km')
  </p>
  <p class="Code">
   datum = 'North America 1983'
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   ; Create the UTM projection
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   Proj = ENVI_PROJ_CREATE(/utm, zone=23, /south, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;datum=datum, units=units)
  </p>
  <p class="Code">
   ;
  </p>
  <p>
   The following example creates a Transverse Mercator projection. This projection (
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   projection type “3”) requires the following parameters:
  </p>
  <p xml:space="preserve" class="Code">
   a, b, lat0, lon0, x0, y0, and k0
  </p>
  <p>
   Where:
  </p>
  <p>
   <code>
    a
   </code>
   : Equatorial radius (semi-major axis)
  </p>
  <p>
   <code>
    b
   </code>
   : Polar radius (semi-minor axis)
  </p>
  <p>
   <code>
    lat0
   </code>
   : Latitude of origin of projection
  </p>
  <p>
   <code>
    lon0
   </code>
   : Longitude of central meridian
  </p>
  <p>
   <code>
    x0
   </code>
   : False easting
  </p>
  <p>
   <code>
    y0
   </code>
   : False Northing
  </p>
  <p>
   <code>
    k0
   </code>
   : Scale factor at central meridian
  </p>
  <p>
   The actual values for the parameters are based on the projection being defined. In this example, the datum uses the Australian National ellipsoid, which provides the values for
   <i>
    a
   </i>
   and
   <i>
    b
   </i>
   . The latitude of origin is 0.0 degrees, and the longitude of central meridian is 99 degrees. The false northing and easting are 10000000 and 500000, respectively. The scale factor is set to 0.9996. In addition to these parameters, this projection uses the Australian Geodetic 1966 datum with the name Australian Map Grid (AGD 66) Zone 47. This example uses the default map units of meters.
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   ; Define the PARAMS values
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   Params = [6378160.0, 6356774.7, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0.000000,  99.000000, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;500000., 10000000., $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.9996]
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   ; Define the Datum and projection name
  </p>
  <p class="Code">
   datum = 'Australian Geodetic 1966'
  </p>
  <p class="Code">
   name = 'Australian Map Grid (AGD 66) Zone 47'
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   ; Create the projection
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   proj = ENVI_PROJ_CREATE(type=3, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;name=name, datum=datum, params=params)
  </p>
  <p class="Code">
   ;
  </p>
  <p>
   The following example shows how to define a string for a projected coordinate system (indicated by PROJCS), and how to create a projection structure using the PE_COORD_SYS_STR keyword:
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   ; define the projection string
  </p>
  <p class="Code">
   projcsStr = 'PROJCS["SAD_1969_UTM_Zone_18N", $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;GEOGCS["GCS_South_American_1969", $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DATUM["D_South_American_1969", $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SPHEROID["GRS_1967_Truncated",6378160.0,298.25]], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PRIMEM["Greenwich",0.0], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UNIT["Degree",0.0174532925199433]], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PROJECTION["Transverse_Mercator"], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PARAMETER["False_Easting",500000.0], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PARAMETER["False_Northing",0.0], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PARAMETER["Central_Meridian",-75.0], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PARAMETER["Scale_Factor",0.9996], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PARAMETER["Latitude_Of_Origin",0.0], $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UNIT["Meter",1.0]]'
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   ; create the projection structure
  </p>
  <p class="Code">
   ;
  </p>
  <p class="Code">
   proj29118Str = ENVI_PROJ_CREATE(type = 42, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;pe_coord_sys_str=projcsStr)
  </p>
  <p class="Code">
   ;
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>