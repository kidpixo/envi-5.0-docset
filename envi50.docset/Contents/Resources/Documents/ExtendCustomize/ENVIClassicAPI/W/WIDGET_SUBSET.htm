<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Programming|Routines|Display Control|ENVI Classic" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   WIDGET_SUBSET
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#ExtendCustomize/ENVIClassicAPI/W/WIDGET_SUBSET.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingWithENVI.htm">
    Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../Routines.htm">
    Routines
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../enviPortal.htm">
    Display Control
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    WIDGET_SUBSET
   </span>
  </div>
  <h1>
   <a name="kanchor661">
   </a>
   WIDGET_SUBSET
  </h1>
  <p>
   <a href="#Syntax">
    Syntax
   </a>
   |
   <a href="#Arguments">
    Arguments
   </a>
   |
   <a href="#Keywords">
    Keywords
   </a>
   |
   <a href="#Widget">
    Widget Event
   </a>
   |
   <a href="#Example">
    Example
   </a>
  </p>
  <p class="HighlightText">
   This routine has been replaced with the
   <a href="../../ENVIUI__SelectInputData.htm">
    SelectInputData
   </a>
   method to ENVIUI.
  </p>
  <p>
   This function returns a compound widget used to specify image subsets, and it returns the base ID of the widget. An interactive
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   session is required to run this function.
  </p>
  <p>
   <img src="../../../Resources/Images/ENVIClassicAPI/widget_subset.gif" />
  </p>
  <h2 class="API">
   <a name="Syntax">
   </a>
   Syntax
  </h2>
  <p>
   <i>
    Result
   </i>
   = WIDGET_SUBSET(
   <i>
    Base
   </i>
   [,
   <a href="#AUTO_MANAGE">
    AUTO_MANAGE
   </a>
   ={0 | 1}],
   <a href="#DIMS">
    DIMS
   </a>
   =
   <i>
    array
   </i>
   ,
   <a href="#FID">
    FID
   </a>
   =
   <i>
    file ID
   </i>
   [, /
   <a href="#ROI">
    ROI
   </a>
   ],
   <a href="#UVALUE">
    UVALUE
   </a>
   =
   <i>
    value
   </i>
   [,
   <a href="#XS">
    XS
   </a>
   =
   <i>
    value
   </i>
   ])
  </p>
  <h2 class="API">
   <a name="Arguments">
   </a>
   Arguments
  </h2>
  <h3>
   Base
  </h3>
  <p>
   This is the ID of the base widget.
  </p>
  <h2 class="API">
   <a name="Keywords">
   </a>
   Keywords
  </h2>
  <h3>
   <a name="AUTO_MANAGE">
   </a>
   AUTO_MANAGE (optional)
  </h3>
  <p>
   Use this keyword to specify how
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   auto-manages the widget with
   <a href="../A/AUTO_WID_MNG.htm">
    AUTO_WID_MNG
   </a>
   . The keyword value specifies if the widget must have a defined value. Setting this keyword to a value of 1 requires that the widget has either a default value or a value that you enter. Setting this keyword to 0 does not require a value. Do not use this keyword for user-managed widgets.
  </p>
  <h3>
   <a name="DIMS">
   </a>
   DIMS
  </h3>
  <p>
   The “dimensions” keyword is a five-element array of long integers that defines the spatial subset (of a file or array) to use for processing. Nearly every time you specify the keyword FID, you must also specify the spatial subset of the corresponding file (even if the entire file, with no spatial subsetting, is to be processed).
  </p>
  <ul>
   <li value="1">
    DIMS[0]: A pointer to an open ROI; use only in cases where ROIs define the spatial subset. Otherwise, set to -1L.
   </li>
   <li value="2">
    DIMS[1]: The starting sample number. The first x pixel is 0.
   </li>
   <li value="3">
    DIMS[2]: The ending sample number
   </li>
   <li value="4">
    DIMS[3]: The starting line number. The first y pixel is 0.
   </li>
   <li value="5">
    DIMS[4]: The ending line number
   </li>
  </ul>
  <p>
   To process an entire file (with no spatial subsetting), define DIMS as shown in the following code example. This example assumes you have already opened a file using
   <a href="../ENVI_S/ENVI_SELECT.htm">
    ENVI_SELECT
   </a>
   or
   <a href="../ENVI_P/ENVI_PICKFILE.htm">
    ENVI_PICKFILE
   </a>
   :
  </p>
  <p class="Code_Indented">
   envi_file_query, fid, dims=dims
  </p>
  <p>
   You
   <i>
    cannot
   </i>
   define DIMS as a pointer to a region of interest (ROI) in any of
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   ’s _DOIT library routines. Using the following example code with a _DOIT library routine will result in an error message when you run the program:
  </p>
  <p class="Code_Indented">
   roi_ids = ENVI_GET_ROI_IDS()
  </p>
  <p class="Code_Indented">
   <br />
   roi_dims = ENVI_GET_ROI_DIMS_PTR(roi_ids[0])
  </p>
  <p class="Code_Indented">
   <br />
   dims= [roi_dims,0,0,0,0]
  </p>
  <h3>
   <a name="FID">
   </a>
   FID
  </h3>
  <p>
   Use this keyword to specify the file ID of the file in use. The file ID is used to get the file name and the number of samples and lines.
  </p>
  <h3>
   <a name="ROI">
   </a>
   ROI (optional)
  </h3>
  <p>
   Set this keyword to allow ROI subsetting of a file. The ROI ID is returned as the first element in the DIMS array.
  </p>
  <h3>
   <a name="UVALUE">
   </a>
   UVALUE
  </h3>
  <p>
   Use this keyword to assign a “user value” to the widget. This value may be of any data type and organization. The user value exists entirely for your convenience. For widgets managed by the
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   function
   <a href="../A/AUTO_WID_MNG.htm">
    AUTO_WID_MNG
   </a>
   , UVALUE is a tag name in the returned anonymous structure. For user-managed widgets, you can set and use UVALUE however you wish. You must set UVALUE for all compound widgets.
  </p>
  <h3>
   <a name="XS">
   </a>
   XS (optional)
  </h3>
  <p>
   Use this keyword to specify the x size in characters
  </p>
  <h2 class="API">
   <a name="Widget">
   </a>
   Widget Event
  </h2>
  <p>
   When the widget is not auto-managed, widget events set event.result to the DIMS array.
  </p>
  <h2 class="API">
   <a name="Example">
   </a>
   Example
  </h2>
  <p>
   Create a simple compound widget for selecting image subsets. Print out the new DIMS array.
  </p>
  <p class="Code">
   PRO ENVI_WIDGET_SUBSET_EX
  </p>
  <p class="Code">
   compile_opt IDL2
  </p>
  <p class="Code">
   envi_file_query, fid, dims=dims
  </p>
  <p class="Code">
   base = widget_auto_base(title='Subset test')
  </p>
  <p class="Code">
   ws = widget_subset(base, uvalue='subset', fid=fid, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;dims=dims, /auto)
  </p>
  <p class="Code">
   result = auto_wid_mng(base)
  </p>
  <p class="Code">
   if (result.accept eq 0) then return
  </p>
  <p class="Code">
   print, 'New dims', result.subset
  </p>
  <p class="Code">
   END
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>