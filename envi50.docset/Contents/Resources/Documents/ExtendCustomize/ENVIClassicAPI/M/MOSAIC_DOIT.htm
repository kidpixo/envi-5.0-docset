<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Programming|Routines|Processing" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-us" xml:lang="en-us" madcap:pathtohelpsystem="../../../../" madcap:helpsystemfilename="ENVIHelp.xml" madcap:searchtype="Stem">
 <!-- saved from url=(0014)about:internet -->
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   MOSAIC_DOIT
  </title>
  <link href="../../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
  <script src="../../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../../ENVIHelp_CSH.htm#ExtendCustomize/ENVIClassicAPI/M/MOSAIC_DOIT.htm" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingWithENVI.htm">
    Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../Routines.htm">
    Routines
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../A/ADAPT_FILT_DOIT.htm">
    Processing
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    MOSAIC_DOIT
   </span>
  </div>
  <h1>
   <a name="kanchor751">
   </a>
   MOSAIC_DOIT
  </h1>
  <p>
   Use this procedure to overlay two or more images with overlapping areas (typically georeferenced) or to overlay non-overlapping images (typically pixel-based). You can mosaic individual bands, entire files, and georeferenced images.
  </p>
  <h2 class="API">
   <a name="Syntax">
   </a>
   Syntax
  </h2>
  <p>
   ENVI_DOIT, 'MOSAIC_DOIT' [,
   <a href="#BACKGROUND">
    BACKGROUND
   </a>
   =
   <i>
    integer
   </i>
   ],
   <a href="#DIMS">
    DIMS
   </a>
   =
   <i>
    array
   </i>
   ,
   <a href="#FID">
    FID
   </a>
   =
   <i>
    file ID
   </i>
   [, /
   <a href="#GEOREF">
    GEOREF
   </a>
   ] [, /
   <a href="#IN_MEMORY">
    IN_MEMORY
   </a>
   ] [,
   <a href="#MAP_INFO">
    MAP_INFO
   </a>
   =
   <i>
    structure
   </i>
   ] [,
   <a href="#OUT_BNAME">
    OUT_BNAME
   </a>
   =
   <i>
    string array
   </i>
   ],
   <a href="#OUT_DT">
    OUT_DT
   </a>
   ={1 | 2 | 3 | 4 | 5 | 6 | 9 | 12 | 13 | 14 | 15},
   <a href="#OUT_NAME">
    OUT_NAME
   </a>
   =
   <i>
    string
   </i>
   ,
   <a href="#PIXEL_SIZE">
    PIXEL_SIZE
   </a>
   =
   <i>
    array
   </i>
   ,
   <a href="#POS">
    POS
   </a>
   =
   <i>
    array
   </i>
   [,
   <a href="#R_FID">
    R_FID
   </a>
   =
   <i>
    variable
   </i>
   ] [, /
   <a href="#USE_SEE_THROUGH">
    SEE_THROUGH_VAL
   </a>
   ],
   <a href="#USE_SEE_THROUGH">
    USE_SEE_THROUGH
   </a>
   =
   <i>
    array
   </i>
   ,
   <a href="#XSIZE">
    XSIZE
   </a>
   =
   <i>
    integer
   </i>
   ,
   <a href="#X0">
    X0
   </a>
   =
   <i>
    array
   </i>
   ,
   <a href="#YSIZE">
    YSIZE
   </a>
   =
   <i>
    integer
   </i>
   ,
   <a href="#Y0">
    Y0
   </a>
   =
   <i>
    array
   </i>
  </p>
  <h2 class="API">
   <a name="Keywords">
   </a>
   Keywords
  </h2>
  <h3>
   <a name="BACKGROUND">
   </a>
   BACKGROUND (optional)
  </h3>
  <p>
   Use this keyword to specify the value for all background pixels. The default is 0.
  </p>
  <h3>
   <a name="DIMS">
   </a>
   DIMS
  </h3>
  <p>
   The “dimensions” keyword is a five-element array of long integers that defines the spatial subset (of a file or array) to use for processing. Nearly every time you specify the keyword FID, you must also specify the spatial subset of the corresponding file (even if the entire file, with no spatial subsetting, is to be processed).
  </p>
  <ul>
   <li value="1">
    DIMS[0]: A pointer to an open ROI; use only in cases where ROIs define the spatial subset. Otherwise, set to -1L.
   </li>
   <li value="2">
    DIMS[1]: The starting sample number. The first x pixel is 0.
   </li>
   <li value="3">
    DIMS[2]: The ending sample number
   </li>
   <li value="4">
    DIMS[3]: The starting line number. The first y pixel is 0.
   </li>
   <li value="5">
    DIMS[4]: The ending line number
   </li>
  </ul>
  <p>
   To process an entire file (with no spatial subsetting), define DIMS as shown in the following code example. This example assumes you have already opened a file using
   <a href="../ENVI_S/ENVI_SELECT.htm">
    ENVI_SELECT
   </a>
   or
   <a href="../ENVI_P/ENVI_PICKFILE.htm">
    ENVI_PICKFILE
   </a>
   :
  </p>
  <p class="Code_Indented">
   envi_file_query, fid, dims=dims
  </p>
  <p>
   You
   <i>
    cannot
   </i>
   define DIMS as a pointer to a region of interest (ROI) in any of
   <span class="DocumentTitleProductName">
    ENVI
   </span>
   ’s _DOIT library routines. Using the following example code with a _DOIT library routine will result in an error message when you run the program:
  </p>
  <p class="Code_Indented">
   roi_ids = ENVI_GET_ROI_IDS()
  </p>
  <p class="Code_Indented">
   <br />
   roi_dims = ENVI_GET_ROI_DIMS_PTR(roi_ids[0])
  </p>
  <p class="Code_Indented">
   <br />
   dims= [roi_dims,0,0,0,0]
  </p>
  <h3>
   <a name="FID">
   </a>
   FID
  </h3>
  <p>
   Use this keyword to specify a long-integer array of file IDs, one for each file to mosaic. The file ID is the value returned by the R_FID keyword to the ENVI_OPEN_FILE procedure or the FID keyword to ENVI_SELECT.
  </p>
  <h3>
   <a name="GEOREF">
   </a>
   GEOREF (optional)
  </h3>
  <p>
   Set this keyword to indicate that the data are georeferenced, in which case you must define the keyword MAP_INFO.
  </p>
  <h3>
   <a name="IN_MEMORY">
   </a>
   IN_MEMORY (optional)
  </h3>
  <p>
   Set this keyword to specify that output should be stored in memory. If you do not set IN_MEMORY, output will be stored on disk and you must specify OUT_NAME (see below).
  </p>
  <h3>
   <a name="MAP_INFO">
   </a>
   MAP_INFO (optional)
  </h3>
  <p>
   Use this keyword to specify map information. Set MAP_INFO equal to the structure returned from
   <a href="../ENVI_G/ENVI_GET_MAP_INFO.htm">
    ENVI_GET_MAP_INFO
   </a>
   or
   <a href="../ENVI_M/ENVI_MAP_INFO_CREATE.htm">
    ENVI_MAP_INFO_CREATE
   </a>
   .
  </p>
  <h3>
   <a name="OUT_BNAME">
   </a>
   OUT_BNAME (optional)
  </h3>
  <p>
   Use this keyword to specify a string array of output band names.
  </p>
  <h3>
   <a name="OUT_DT">
   </a>
   OUT_DT
  </h3>
  <p>
   This keyword indicates the IDL data type of the output data. Set the keyword to one of the following integer values:
  </p>
  <ul>
   <li value="1">
    1: Byte (8 bits)
   </li>
   <li value="2">
    2: Integer (16 bits)
   </li>
   <li value="3">
    3: Long integer (32 bits)
   </li>
   <li value="4">
    4: Floating-point (32 bits)
   </li>
   <li value="5">
    5: Double-precision floating-point (64 bits)
   </li>
   <li value="6">
    6: Complex (2x32 bits)
   </li>
   <li value="7">
    9: Double-precision complex (2x64 bits)
   </li>
   <li value="8">
    12: Unsigned integer (16 bits)
   </li>
   <li value="9">
    13: Unsigned long integer (32 bits)
   </li>
   <li value="10">
    14: Long 64-bit integer
   </li>
   <li value="11">
    15: Unsigned long 64-bit integer
   </li>
  </ul>
  <h3>
   <a name="OUT_NAME">
   </a>
   OUT_NAME
  </h3>
  <p>
   Use this keyword to specify a string with the output filename for the resulting data. If you set the keyword IN_MEMORY, you do not need to specify OUT_NAME.
  </p>
  <h3>
   <a name="PIXEL_SIZE">
   </a>
   PIXEL_SIZE
  </h3>
  <p>
   Use this keyword to specify a two-element array of floating-point or double-precision values containing the x and y pixel sizes, respectively. For pixel-based mosaics, set the x and y pixel sizes to 1.0, for example, PIXEL_SIZE=[1.0, 1.0].
  </p>
  <h3>
   <a name="POS">
   </a>
   POS
  </h3>
  <p>
   Use this keyword to specify an array of long integers representing band positions to include in the mosaic. The dimensions of the array must be [
   <i>
    #output bands
   </i>
   ,
   <i>
    #files
   </i>
   ]. A value of -1 indicates that no input band for the associated file is included in the corresponding mosaicked output band. The valid values for POS are 0 to num_bands (for the corresponding file), or -1.
  </p>
  <h3>
   <a name="R_FID">
   </a>
   R_FID (optional)
  </h3>
  <p>
   <span class="DocumentTitleProductNameENVIClassic">
    ENVI Classic
   </span>
   library routines that result in new images also have an R_FID, or “returned FID.” This is simply a named variable containing the file ID to access the processed data. Specifying this keyword saves you the step of opening the new file from disk.
  </p>
  <h3>
   <a name="SEE_THROUGH_VAL">
   </a>
   SEE_THROUGH_VAL (optional)
  </h3>
  <p>
   Use this keyword to set the see-through value for each input file. SEE_THROUGH_VAL is an array of values with the same data type as OUT_DT with [
   <i>
    #files
   </i>
   ] elements. If a pixel in the input file is equal to its corresponding value of SEE_THROUGH_VAL, then that pixel is not transferred to the output mosaic, which allows data stacked underneath to remain visible. If any elements of the array USE_SEE_THROUGH have a value of 1, then you must specify the SEE_THROUGH_VAL array.
  </p>
  <h3>
   <a name="USE_SEE_THROUGH">
   </a>
   USE_SEE_THROUGH
  </h3>
  <p>
   Use this keyword to specify an integer array of zeros and ones indicating whether the bands from the current file will use the corresponding SEE_THROUGH_VAL value. A value of 1 indicates that the input file will use SEE_THROUGH_VAL, and a value of 0 indicates that SEE_THROUGH_VAL will not be used. The number of elements in the USE_SEE_THROUGH array is equal to the number of input files specified by FID.
  </p>
  <h3>
   <a name="XSIZE">
   </a>
   XSIZE
  </h3>
  <p>
   Use this keyword to set the x size of the output image (sample direction). For pixel-based mosaics, the XSIZE is in pixels and the corresponding pixels size is [1, 1]. For georeferenced images, XSIZE has the same units as PIXEL_SIZE. For example, a 1 km image in the sample direction uses a PIXEL_SIZE of 1 m and an XSIZE of 1,000 m.
  </p>
  <h3>
   <a name="X0">
   </a>
   X0
  </h3>
  <p>
   Use this keyword to specify an array of long integers representing the x starting pixels, one for each file. X0 is in pixel coordinates and may require you to convert map locations to output pixel locations in georeferenced images.
  </p>
  <h3>
   <a name="YSIZE">
   </a>
   YSIZE
  </h3>
  <p>
   Use this keyword to set the y size of the output image (line direction). For pixel-based mosaics, the YSIZE is in pixels and the corresponding pixels size is [1, 1]. For georeferenced images, YSIZE has the same units as PIXEL_SIZE. For example, a 1 km image in the line direction uses a PIXEL_SIZE of 1 m and an YSIZE of 1,000 m.
  </p>
  <h3>
   <a name="Y0">
   </a>
   Y0
  </h3>
  <p>
   Use this keyword to specify an array of long integers representing the y starting lines, one for each file. Y0 is in pixel coordinates and may require you to convert map locations to output line locations in georeferenced images.
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>